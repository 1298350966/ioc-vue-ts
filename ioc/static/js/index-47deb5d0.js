import{z as k,at as f,w as F}from"./index-4e626338.js";/* empty css                    *//* empty css                 *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css                 *//* empty css                        *//* empty css                     */import{c as j}from"./EventTrigger-6c8c8146.js";import{l as T}from"./lodash-f91682a1.js";import{ap as N,$ as D,_ as M,k as S,Q as $,H,J as L,P as W}from"./elementPlus-07602b2b.js";import{d as G,r as q,b as J,g as Y,A as z,$ as Q,o as p,c,a,w as l,u as d,a0 as U,a6 as g,s as O,F as X,q as I,l as K,x as B}from"./vue-65382a1b.js";import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";/* empty css                */import"./type-ae7fe4c5.js";import"./chartEditStore-8641b951.js";import"./index-55ccac47.js";import"./echarts-676dbcd6.js";import"./plugin-68db7aa1.js";import"./useTargetData.hook-7e83673b.js";const Z={key:0},h={key:0},ee={key:1},ae={key:2},xe=G({__name:"index",props:{triggerConfig:{type:Object},targetConfig:{type:Object},mappingFieldOptions:{type:Array}},setup(o){const V=o,C=q("1"),i=q(k.NONE),P=q(f.PARAMS);q({Header:[],Params:[]}),J({Params:s("Params"),"form-data":s("Body.form-data"),json:s("Body.json"),"x-www-form-urlencoded":s("Body.x-www-form-urlencoded")});const E=Y(()=>{let r=[k.FORM_DATA,k.X_WWW_FORM_URLENCODED,k.JSON];return i.value=r[0]||null,r});function b(r){r.push({key:"",value:""})}function x(r){Array.isArray(r)&&(r=r.filter(t=>!!t.key))}function s(r){const t=V.targetConfig.request.requestParams;return Object.keys(T.get(t,r)).map(n=>({label:n,value:n}))}return z(()=>{V.triggerConfig.updateValue||(V.triggerConfig.updateValue=j)}),Q(()=>{const{updateValue:r}=V.triggerConfig;r&&Object.keys(r).forEach(t=>{x(r[t])})}),(r,t)=>{const n=N,m=D,y=M,w=S,v=$,A=H,R=L,_=W;return o.triggerConfig.updateValue?(p(),c("div",Z,[a(_,{modelValue:d(C),"onUpdate:modelValue":t[7]||(t[7]=e=>U(C)?C.value=e:null),class:"demo-tabs",addable:"",closable:""},{default:l(()=>[a(v,{label:"请求参数",name:"1"},{default:l(()=>[a(_,{modelValue:d(P),"onUpdate:modelValue":t[5]||(t[5]=e=>U(P)?P.value=e:null),class:"demo-tabs"},{default:l(()=>[a(v,{label:d(f).PARAMS,name:d(f).PARAMS},{default:l(()=>[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Params"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:s("Params"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[0]||(t[0]=e=>b(o.triggerConfig.updateValue["request.requestParams.Params"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})]),_:1},8,["label","name"]),o.targetConfig.request.requestHttpType!=d(F).GET?(p(),O(v,{key:0,label:d(f).BODY,name:d(f).BODY},{default:l(()=>[a(R,{modelValue:d(i),"onUpdate:modelValue":t[1]||(t[1]=e=>U(i)?i.value=e:null),name:"radiogroup"},{default:l(()=>[(p(!0),c(X,null,I(d(E),e=>(p(),O(A,{key:e,label:e},{default:l(()=>[g(K(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),d(i)=="form-data"?(p(),c("div",h,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.form-data"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:s("Body.form-data"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(n,{modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[2]||(t[2]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.form-data"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):d(i)=="json"?(p(),c("div",ee,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.json"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:s("Body.json"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[3]||(t[3]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.json"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):d(i)=="x-www-form-urlencoded"?(p(),c("div",ae,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:s("Body.x-www-form-urlencoded"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(n,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[4]||(t[4]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):B("",!0)]),_:1},8,["label","name"])):B("",!0)]),_:1},8,["modelValue"])]),_:1}),a(v,{label:"动态数据",name:"2"},{default:l(()=>[a(n,{class:"w-100%",modelValue:o.triggerConfig.updateValue.data,"onUpdate:modelValue":t[6]||(t[6]=e=>o.triggerConfig.updateValue.data=e),options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","options"])]),_:1})]),_:1},8,["modelValue"])])):B("",!0)}}});export{xe as default};
