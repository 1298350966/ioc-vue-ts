var R=Object.defineProperty;var k=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var x=(a,n,t)=>n in a?R(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,I=(a,n)=>{for(var t in n||(n={}))W.call(n,t)&&x(a,t,n[t]);if(k)for(var t of k(n))q.call(n,t)&&x(a,t,n[t]);return a};var A=(a,n,t)=>new Promise((l,m)=>{var V=d=>{try{p(t.next(d))}catch(_){m(_)}},u=d=>{try{p(t.throw(d))}catch(_){m(_)}},p=d=>d.done?l(d.value):Promise.resolve(d.value).then(V,u);p((t=t.apply(a,n)).next())});import"./index-4e626338.js";/* empty css                *//* empty css                     *//* empty css                    */import"./el-collapse-item-4ed993c7.js";/* empty css                    */import{_ as G}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";import{Q as H,P as L,an as Q,U as z,T as J,i as K,ao as X,al as Y}from"./elementPlus-07602b2b.js";import{d as Z,r as h,A as ee,o as b,s as N,w as s,a as r,u as S,a0 as C,c as T,F as j,q as D,h as y,l as g,a6 as w,j as te,G as ae,H as ne}from"./vue-65382a1b.js";import{_ as oe}from"./xgplayerVue-c27b6911.js";const O=a=>(ae("data-v-f3d72766"),a=a(),ne(),a),se={class:"go-pl-3"},le=O(()=>y("span",{class:"func-keyword"},"async function  ",-1)),re={class:"func-keyNameWord"},de=O(()=>y("p",{class:"go-pl-3 func-keyNameWord"},"}",-1)),ce=Z({__name:"FunEditor",props:{baseEvent:{},targetData:{},eventTypeName:{},eventParamsName:{},baseEventEnum:{}},emits:["close"],setup(a,{expose:n,emit:t}){const l=a;let m=h("");const V=()=>{for(let o in l.baseEventEnum)return m.value=l.baseEventEnum[`${o}`]};let u=h("encodeInfo");const p=h(!1),d=()=>{let o="",c="",E="";return p.value=Object.entries(l.baseEvent).every(([f,v])=>{try{const i=Object.getPrototypeOf(function(){return A(this,null,function*(){})}).constructor;return new i(v),!0}catch(i){return c=i.message,E=i.name,o=f,!1}}),{errorFn:o,message:c,name:E}},_=()=>{if(d().errorFn){window.$message.error("事件函数错误，无法进行保存");return}if(Object.values(l.baseEvent).join("").trim()===""){console.log(l.targetData);let o={};for(let c in l.baseEventEnum)o[`${l.baseEventEnum[c]}`]=void 0;l.targetData.option.events=o}else l.targetData.option.events=I({},l.baseEvent);t("close")};return ee(()=>{V()}),n({saveEvents:_}),(o,c)=>{const E=G,f=H,v=L,i=Q,F=z,P=J,U=K,B=X,$=Y;return b(),N($,null,{default:s(()=>[r(i,{style:{padding:"0"}},{default:s(()=>[r(v,{modelValue:S(m),"onUpdate:modelValue":c[0]||(c[0]=e=>C(m)?m.value=e:m=e),type:"border-card",class:"demo-tabs"},{default:s(()=>[(b(!0),T(j,null,D(o.baseEventEnum,(e,me)=>(b(),N(f,{label:`${o.eventTypeName[e]}-${e}`,name:e},{default:s(()=>[y("p",se,[le,y("span",re,g(e+"("+o.eventParamsName[e].join(",")+")")+"  {",1)]),r(E,{modelValue:o.baseEvent[e],"onUpdate:modelValue":M=>o.baseEvent[e]=M,height:"480px",language:"javascript"},null,8,["modelValue","onUpdate:modelValue"]),de]),_:2},1032,["label","name"]))),256))]),_:1},8,["modelValue"])]),_:1}),r(B,{width:"240px;",style:{"padding-left":"15px"}},{default:s(()=>[r(v,{modelValue:S(u),"onUpdate:modelValue":c[1]||(c[1]=e=>C(u)?u.value=e:u=e),class:"demo-tabs"},{default:s(()=>[r(f,{label:"编译信息",name:"encodeInfo"},{default:s(()=>[r(U,null,{default:s(()=>[r(P,null,{default:s(()=>[(b(!0),T(j,null,D([d()],e=>(b(),T(j,{key:e},[r(F,{title:"错误函数",name:1},{default:s(()=>[w(g(e.errorFn||"暂无"),1)]),_:2},1024),r(F,{title:"错误信息",name:2},{default:s(()=>[w(g(e.name||"暂无"),1)]),_:2},1024),r(F,{title:"堆栈信息",name:3},{default:s(()=>[w(g(e.message||"暂无"),1)]),_:2},1024)],64))),128))]),_:1})]),_:1})]),_:1}),r(f,{label:"说明文档",name:"readText"},{default:s(()=>[te(o.$slots,"readText",{},void 0,!0)]),_:3})]),_:3},8,["modelValue"])]),_:3})]),_:3})}}});const Fe=oe(ce,[["__scopeId","data-v-f3d72766"]]);export{Fe as F};
