import{_ as B}from"./index-806da9dd.js";import"./index-4e626338.js";/* empty css                  */import{v as c}from"./vueTianditu-951bb72c.js";import{k as L}from"./elementPlus-07602b2b.js";import{d as N,r as u,a7 as T,g as d,o as g,c as E,a as p,w as i,a6 as y,u as t,s as K,h as b,a0 as z,x as I}from"./vue-65382a1b.js";/* empty css                   */import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./lodash-f91682a1.js";import"./vuema-115cb50e.js";import"./vuedraggable-26823587.js";const R={class:"editPolygonPath"},j={style:{height:"70vh",width:"100%"}},$=N({__name:"editPolygon",props:{optionData:{type:Object,required:!0}},setup(a){const s=a,e=u(!1);let{mapKey:f,mapStyleKey:h,mapLng:_,mapLat:k,mapZindex:v,mapStyleKeyCustom:q}=T(s.optionData.mapOptions);const D=d(()=>[_.value,k.value]),S=d(()=>({v:"4.0",tk:f.value})),n=u([]);let r=null;function w(){n.value=s.optionData.mask.polygonOptions.path[1]||[],e.value=!0}function C(){let o=r.getLngLats()[0].map(l=>[l.lng,l.lat]);O(o),s.optionData.mask.polygonOptions.path[1]=n.value,e.value=!1}function O(o){console.log(o),o.length==0?console.log(n):n.value=o}function x(o){r=o}return(o,l)=>{const m=L,V=B;return g(),E("div",R,[p(m,{onClick:w},{default:i(()=>[y("编辑")]),_:1}),t(e)?(g(),K(V,{key:0,title:"多边形配置",modelValue:t(e),"onUpdate:modelValue":l[0]||(l[0]=P=>z(e)?e.value=P:null),width:"75%",top:"10vh"},{footer:i(()=>[p(m,{type:"primary",onClick:C},{default:i(()=>[y("保存")]),_:1})]),default:i(()=>[b("div",j,[p(t(c.TdtMap),{center:t(D),zoom:t(v),loadConfig:t(S),mapStyle:t(h)},{default:i(()=>[p(t(c.TdtPolygon),{color:a.optionData.mask.polygonOptions.color,weight:a.optionData.mask.polygonOptions.weight,opacity:a.optionData.mask.polygonOptions.opacity,lineStyle:a.optionData.mask.polygonOptions.lineStyle,edit:!0,path:t(n),onInit:x},null,8,["color","weight","opacity","lineStyle","path"])]),_:1},8,["center","zoom","loadConfig","mapStyle"])])]),_:1},8,["modelValue"])):I("",!0)])}}});export{$ as default};
