import{z as v,at as f,w as j}from"./index-4e626338.js";/* empty css                    *//* empty css                 *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css                 *//* empty css                        *//* empty css                     */import{c as F}from"./config-122b28f2.js";import{l as T}from"./lodash-f91682a1.js";import{ap as N,$ as D,_ as M,k as S,Q as $,H,J as L,P as W}from"./elementPlus-07602b2b.js";import{d as G,r as k,b as J,g as Y,A as z,$ as Q,o as p,c,a,w as l,u as n,a0 as P,a6 as g,s as E,F as X,q as I,l as K,x as B}from"./vue-65382a1b.js";import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";const Z={key:0},h={key:0},ee={key:1},ae={key:2},_e=G({__name:"index",props:{triggerConfig:{type:Object},targetConfig:{type:Object},mappingFieldOptions:{type:Array}},setup(o){const V=o,q=k("1"),i=k(v.NONE),_=k(f.PARAMS);k({Header:[],Params:[]}),J({Params:d("Params"),"form-data":d("Body.form-data"),json:d("Body.json"),"x-www-form-urlencoded":d("Body.x-www-form-urlencoded")});const O=Y(()=>{let r=[v.FORM_DATA,v.X_WWW_FORM_URLENCODED,v.JSON];return i.value=r[0]||null,r});function b(r){r.push({key:"",value:""})}function x(r){r=r.filter(t=>!!t.key)}function d(r){const t=V.targetConfig.request.requestParams;return Object.keys(T.get(t,r)).map(s=>({label:s,value:s}))}return z(()=>{V.triggerConfig.updateValue||(V.triggerConfig.updateValue=F)}),Q(()=>{const{updateValue:r}=V.triggerConfig;r&&Object.keys(r).forEach(t=>{x(r[t])})}),(r,t)=>{const s=N,m=D,y=M,w=S,C=$,R=H,A=L,U=W;return o.triggerConfig.updateValue?(p(),c("div",Z,[a(U,{modelValue:n(q),"onUpdate:modelValue":t[6]||(t[6]=e=>P(q)?q.value=e:null),class:"demo-tabs"},{default:l(()=>[a(C,{label:"请求参数",name:"1"},{default:l(()=>[a(U,{modelValue:n(_),"onUpdate:modelValue":t[5]||(t[5]=e=>P(_)?_.value=e:null),class:"demo-tabs"},{default:l(()=>[a(C,{label:n(f).PARAMS,name:n(f).PARAMS},{default:l(()=>[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Params"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:d("Params"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[0]||(t[0]=e=>b(o.triggerConfig.updateValue["request.requestParams.Params"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})]),_:1},8,["label","name"]),o.targetConfig.request.requestHttpType!=n(j).GET?(p(),E(C,{key:0,label:n(f).BODY,name:n(f).BODY},{default:l(()=>[a(A,{modelValue:n(i),"onUpdate:modelValue":t[1]||(t[1]=e=>P(i)?i.value=e:null),name:"radiogroup"},{default:l(()=>[(p(!0),c(X,null,I(n(O),e=>(p(),E(R,{key:e,label:e},{default:l(()=>[g(K(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),n(i)=="form-data"?(p(),c("div",h,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.form-data"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:d("Body.form-data"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(s,{modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[2]||(t[2]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.form-data"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):n(i)=="json"?(p(),c("div",ee,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.json"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:d("Body.json"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[3]||(t[3]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.json"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):n(i)=="x-www-form-urlencoded"?(p(),c("div",ae,[a(y,{data:o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"],class:"w-100%",border:""},{default:l(()=>[a(m,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:d("Body.x-www-form-urlencoded"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(m,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(s,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(w,{class:"w-100% mt-2",onClick:t[4]||(t[4]=e=>b(o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"]))},{default:l(()=>[g(" 添加参数设置")]),_:1})])):B("",!0)]),_:1},8,["label","name"])):B("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])):B("",!0)}}});export{_e as default};
