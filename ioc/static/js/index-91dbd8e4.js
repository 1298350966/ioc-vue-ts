var b=Object.defineProperty,q=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var g=(t,e,a)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,u=(t,e)=>{for(var a in e||(e={}))M.call(e,a)&&g(t,a,e[a]);if(d)for(var a of d(e))O.call(e,a)&&g(t,a,e[a]);return t},C=(t,e)=>q(t,D(e));import{S}from"./index.esm.min-0a61ff36.js";import{a1 as j,aw as k,ax as I,ay as w}from"./index-55ccac47.js";import{an as B}from"./index-4e626338.js";import{u as R}from"./useChartDataFetch.hook-495a5af9.js";import{i as z}from"./axios-ba46900f.js";import{u as F,i as G,a as K,K as L,o as N,c as P,d as T,f as H,M as J,N as Q,O as U}from"./echarts-676dbcd6.js";import{l as V}from"./lodash-f91682a1.js";import{u as W}from"./useAddEvent.kooks-e46e3810.js";import{d as X,r as Y,g as Z,o as ee,s as te,u as x}from"./vue-65382a1b.js";import"./vueRepl-a238c739.js";import"./elementPlus-07602b2b.js";import"./vuema-115cb50e.js";import"./xgplayerVue-c27b6911.js";import"./http-0d114cdb.js";import"./axios-e76ab20a.js";import"./useEvent.hook-afeb4a8c.js";const ve=X({__name:"index",props:{themeSetting:{type:Object,required:!0},themeColor:{type:Object,required:!0},chartConfig:{type:Object,required:!0}},setup(t){const e=t,{rootConfig:a,getEvents:ae}=W(e.chartConfig,I);F([G,K,L,N,P,T,H,J,Q,U]);const y=Y(),$=Z(()=>{let s=V.cloneDeep(e.chartConfig.option);return v(B(e.chartConfig.data),s),j(s,e.themeSetting,w)});function v(s,o){let{xAxis:c,yAxis:f,classAxis:re,colorAxis:h,typeList:E}=e.chartConfig.dataMapping,i=[];if(h[0])E.forEach((r,l)=>{let m=u({},p(o.series,l));m.name=r.name,m.data=[],i.push(m)}),s.forEach((r,l,m)=>{let n=i.find(_=>_.name==r[h[0].column]);n?n.data.push([r[c[0].column],r[f[0].column]]):(n=u({},p(o.series,i.length)),n.name=r[h[0].column],n.data=[[r[c[0].column],r[f[0].column]]],i.push(n))});else{let r=p(o.series,0);r.data=s.map(l=>[l[c[0].column],l[f[0].column]]),i.push(r)}o.series=i}function p(s,o){return s[o]?s[o]:C(u({},k),{datasetIndex:o})}const{vChartRef:A}=R(e.chartConfig,a.requestGlobalConfig);return(s,o)=>(ee(),te(x(S),{ref_key:"vChartRef",ref:A,theme:t.themeColor,option:$.value,"manual-update":x(z)(),"update-options":{replaceMerge:y.value},autoresize:""},null,8,["theme","option","manual-update","update-options"]))}});export{ve as default};
