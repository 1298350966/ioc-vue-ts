import"./index-4e626338.js";/* empty css                *//* empty css                 *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                     *//* empty css                  */import{l as $}from"./lodash-f91682a1.js";import{F as u}from"./type-ae7fe4c5.js";import{k as H,ap as P,w as z}from"./elementPlus-07602b2b.js";import{d as R,al as A,o as f,c as v,h as e,m as D,u as r,a,w as _,a6 as y,F as x,q as F,x as q,G as L,H as N,r as T,g as B,aJ as E,A as j,s as G,a5 as J}from"./vue-65382a1b.js";import{_ as U}from"./xgplayerVue-c27b6911.js";import{_ as I}from"./vueRepl-a238c739.js";import{u as K}from"./chartEditStore-8641b951.js";import{u as W}from"./useTargetData.hook-7e83673b.js";u.OR,u.AND;const M={key:"",condition:"",value:""},X={type:u.AND,conditions:[$.cloneDeep(M)]},Y=[{value:"==",label:"等于"},{value:">",label:"大于"},{value:"<",label:"小于"},{value:"<=",label:"大于等于"},{value:"<=",label:"小于等于"},{value:"!=",label:"不等于"}],Z=[{value:"==",label:"等于"},{value:"!=",label:"不等于"}],h=p=>(L("data-v-1b49ad84"),p=p(),N(),p),ee={class:"FilterConfig-tree"},te={class:"operators"},oe=h(()=>e("svg",{preserveAspectRatio:"none",width:"100",height:"20",viewBox:"0 0 100 20",class:"operator-path"},[e("path",{d:"M45 0 V5 Q45 10 50 10 H95 Q100 10 100 15 V20","vector-effect":"non-scaling-stroke",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),ne=h(()=>e("svg",{preserveAspectRatio:"none",width:"100",height:"20",viewBox:"0 0 100 20",class:"operator-path"},[e("path",{d:"M55 0 V5 Q55 10 50 10 H5 Q0 10 0 15 V20","vector-effect":"non-scaling-stroke",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),se={class:"expressions"},le=h(()=>e("div",{class:"line"},null,-1)),ie={key:0,class:"operators"},ae=h(()=>e("svg",{preserveAspectRatio:"none",width:"100",height:"20",viewBox:"0 0 100 20",class:"operator-path"},[e("path",{d:"M45 0 V5 Q45 10 50 10 H95 Q100 10 100 15 V20","vector-effect":"non-scaling-stroke",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),re=h(()=>e("svg",{preserveAspectRatio:"none",width:"100",height:"20",viewBox:"0 0 100 20",class:"operator-path"},[e("path",{d:"M55 0 V5 Q55 10 50 10 H5 Q0 10 0 15 V20","vector-effect":"non-scaling-stroke",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),de={class:"conditions-box"},pe={class:"condition"},ce=h(()=>e("div",{class:"line"},null,-1)),ue=["onClick"],ge={class:"bottom-box"},fe=h(()=>e("div",{class:"line"},null,-1)),me=R({__name:"index",props:{filters:{},mappingFieldOptions:{}},setup(p){const l=p;function C({key:o}){const d=l.mappingFieldOptions.find(m=>m.value==o);return(d&&d.type)=="number"?Y:Z}function w(){l.filters.conditions.push($.cloneDeep(X))}function g(o){o.push($.cloneDeep(M))}function V(o,d){if(o.conditions.splice(d,1),o.conditions.length==0){const c=l.filters.conditions.indexOf(o);l.filters.conditions.splice(c,1)}}return(o,d)=>{const c=H,m=P,O=A("Delete"),k=z,n=A("CirclePlusFilled");return f(),v("div",ee,[e("div",te,[e("div",{class:D(["operator-item",{active:o.filters.type==r(u).AND}])},[a(c,{onClick:d[0]||(d[0]=t=>o.filters.type=r(u).AND),class:"mr-10%"},{default:_(()=>[y("并且")]),_:1}),oe],2),e("div",{class:D(["operator-item",{active:o.filters.type==r(u).OR}])},[a(c,{onClick:d[1]||(d[1]=t=>o.filters.type=r(u).OR),class:"ml-10%"},{default:_(()=>[y("或者")]),_:1}),ne],2)]),e("div",se,[(f(!0),v(x,null,F(o.filters.conditions,(t,s)=>(f(),v("div",{class:"expressions-content",key:s},[le,t.conditions.length>1?(f(),v("div",ie,[e("div",{class:D(["operator-item",{active:t.type==r(u).AND}])},[a(c,{onClick:i=>t.type=r(u).AND,class:"mr-10%"},{default:_(()=>[y("并且")]),_:2},1032,["onClick"]),ae],2),e("div",{class:D(["operator-item",{active:t.type==r(u).OR}])},[a(c,{onClick:i=>t.type=r(u).OR,class:"ml-10%"},{default:_(()=>[y("或者")]),_:2},1032,["onClick"]),re],2)])):q("",!0),e("div",de,[(f(!0),v(x,null,F(t.conditions,(i,S)=>(f(),v("div",pe,[ce,a(m,{style:{width:"100%"},modelValue:i.key,"onUpdate:modelValue":b=>i.key=b,modelModifiers:{trim:!0},options:o.mappingFieldOptions,"allow-create":"",filterable:"",clearable:""},null,8,["modelValue","onUpdate:modelValue","options"]),a(m,{style:{width:"100%"},modelValue:i.condition,"onUpdate:modelValue":b=>i.condition=b,options:C(i),"allow-create":"",filterable:"",clearable:""},null,8,["modelValue","onUpdate:modelValue","options"]),a(m,{style:{width:"100%"},modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,modelModifiers:{trim:!0},options:[],"allow-create":"",filterable:"",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),a(k,{onClick:b=>V(t,S)},{default:_(()=>[a(O)]),_:2},1032,["onClick"])]))),256))]),e("div",{class:"expression-add",onClick:i=>g(t.conditions)},[a(k,null,{default:_(()=>[a(n)]),_:1})],8,ue)]))),128))]),e("div",ge,[fe,a(c,{class:"w-100%",onClick:w},{default:_(()=>[y("新增条件")]),_:1})])])}}});const Me=U(me,[["__scopeId","data-v-1b49ad84"]]),_e=[{label:"弹窗",value:"globalDialog"},{label:"组件",value:"componentList"},{label:"方法",value:"globalFunction"}],Qe=[{label:"单击",value:"click"},{label:"鼠标进入",value:"mouseenter"},{label:"鼠标移出",value:"mouseleave"}],Se={type:"globalDialog",targetId:"",updateValue:null},He={"request.requestParams.Header":[],"request.requestParams.Params":[],"request.requestParams.Body.form-data":[],"request.requestParams.Body.json":[],"request.requestParams.Body.x-www-form-urlencoded":[],data:""},ze={"body.attrs":[],show:null,attrs:null},Q=p=>(L("data-v-83f9f2fd"),p=p(),N(),p),ve={class:"EventTrigger"},he={class:"grid grid-items-center grid-gap-15px grid-cols-2"},Ce={class:"grid grid-gap-5px"},be=Q(()=>e("span",null,"类型",-1)),ye={class:"grid grid-gap-5px"},Ve=Q(()=>e("span",null,"目标",-1)),ke=R({__name:"EventTrigger",props:{triggerConfig:{},eventDes:{}},setup(p){const l=p,{getStorageInfo:C}=K(),{targetData:w}=W(),g=T(null),V=T([]);function o(n){l.triggerConfig.targetId="",g.value=null,d(n)}function d(n){let t=[];n=="componentList"?C.componentList.forEach(s=>{t.push({label:`${s.chartConfig.title}(${s.id})`,value:s.id})}):n=="globalDialog"&&C.globalDialog.forEach(s=>{t.push({label:`${s.attrs.title}(${s.id})`,value:s.id})}),V.value=t}function c(){let{type:n,targetId:t}=l.triggerConfig;n=="componentList"?g.value=C.componentList.find(s=>t==s.id):n=="globalDialog"?g.value=C.globalDialog.find(s=>t==s.id):g.value=null}function m(){l.triggerConfig.updateValue=null,c()}const O=B(()=>l.triggerConfig.type=="componentList"?["MapAmap"].includes(g.value.key)?E(()=>I(()=>import("./index-8349abaf.js"),["static/js/index-8349abaf.js","static/js/vueRepl-a238c739.js","static/js/vue-65382a1b.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/xgplayerVue-c27b6911.js","static/css/index-bc362552.css","static/js/config-1821c59e.js","static/css/el-tab-pane-eecd8b5a.css"])):E(()=>I(()=>import("./index-47deb5d0.js"),["static/js/index-47deb5d0.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-tooltip-4ed993c7.js","static/js/type-ae7fe4c5.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/useTargetData.hook-7e83673b.js","static/css/el-tab-pane-eecd8b5a.css","static/css/el-radio-62e14d58.css","static/css/el-button-46bfe638.css","static/css/el-table-5bb7fb37.css","static/css/el-checkbox-e117c7b0.css","static/css/el-tag-2fca7a82.css","static/css/el-popper-b17b6765.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-table-column-d409cc84.css","static/css/el-input-9bb615ea.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/el-icon-b1770749.css"])):l.triggerConfig.type=="globalDialog"?E(()=>I(()=>import("./index-67cca2ec.js"),["static/js/index-67cca2ec.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-tooltip-4ed993c7.js","static/js/SettingItem-0e9c370f.js","static/css/el-space-417b6673.css","static/css/SettingItem-a3b6dbf3.css","static/js/type-ae7fe4c5.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/useTargetData.hook-7e83673b.js","static/css/el-tab-pane-eecd8b5a.css","static/css/el-table-5bb7fb37.css","static/css/el-checkbox-e117c7b0.css","static/css/el-tag-2fca7a82.css","static/css/el-popper-b17b6765.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-button-46bfe638.css","static/css/el-table-column-d409cc84.css","static/css/el-input-9bb615ea.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/el-switch-4d96cdcc.css","static/css/el-icon-b1770749.css"])):null),k=B(()=>l.eventDes?(l.eventDes.setVars&&l.eventDes.setVars(w.value),l.eventDes.vars):[]);return j(()=>{d(l.triggerConfig.type),c()}),(n,t)=>{const s=P;return f(),v("div",ve,[e("div",he,[e("div",Ce,[be,a(s,{size:"small",modelValue:n.triggerConfig.type,"onUpdate:modelValue":t[0]||(t[0]=i=>n.triggerConfig.type=i),options:r(_e),onChange:o},null,8,["modelValue","options"])]),e("div",ye,[Ve,a(s,{size:"small",modelValue:n.triggerConfig.targetId,"onUpdate:modelValue":t[1]||(t[1]=i=>n.triggerConfig.targetId=i),options:r(V),onChange:m,onVisibleChange:t[2]||(t[2]=i=>d(n.triggerConfig.type))},null,8,["modelValue","options"])])]),r(g)?(f(),G(J(r(O)),{key:0,triggerConfig:n.triggerConfig,targetConfig:r(g),mappingFieldOptions:r(k)},null,8,["triggerConfig","targetConfig","mappingFieldOptions"])):q("",!0)])}}});const je=U(ke,[["__scopeId","data-v-83f9f2fd"]]);export{je as E,Me as _,Se as a,He as c,Qe as e,ze as g};
