import{z as w,at as f,w as T}from"./index-4e626338.js";/* empty css                    *//* empty css                 *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css                 *//* empty css                        *//* empty css                     */import{c as j}from"./config-1821c59e.js";import{l as E}from"./lodash-f91682a1.js";import{ap as F,$ as N,_ as D,k as M,Q as S,H as $,J as H,P as L}from"./elementPlus-07602b2b.js";import{d as W,r as v,b as G,g as J,A as Y,o as p,c,a,w as l,u as d,a0 as P,a6 as V,s as O,F as z,q as Q,l as X,x as B}from"./vue-65382a1b.js";import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";const I={key:0},K={key:0},Z={key:1},h={key:2},qe=W({__name:"index",props:{triggerConfig:{type:Object},targetConfig:{type:Object},mappingFieldOptions:{type:Array}},setup(o){const q=o,_=v("1"),m=v(w.NONE),k=v(f.PARAMS);v({Header:[],Params:[]}),G({Params:n("Params"),"form-data":n("Body.form-data"),json:n("Body.json"),"x-www-form-urlencoded":n("Body.x-www-form-urlencoded")});const x=J(()=>{let i=[w.FORM_DATA,w.X_WWW_FORM_URLENCODED,w.JSON];return m.value=i[0]||null,i});function g(i){i.push({key:"",value:""})}function n(i){const t=q.targetConfig.request.requestParams;return Object.keys(E.get(t,i)).map(r=>({label:r,value:r}))}return Y(()=>{q.triggerConfig.updateValue||(q.triggerConfig.updateValue=E.cloneDeep(j))}),(i,t)=>{const r=F,s=N,b=D,y=M,C=S,R=$,A=H,U=L;return o.triggerConfig.updateValue?(p(),c("div",I,[a(U,{modelValue:d(_),"onUpdate:modelValue":t[6]||(t[6]=e=>P(_)?_.value=e:null),class:"demo-tabs"},{default:l(()=>[a(C,{label:"请求参数",name:"1"},{default:l(()=>[a(U,{modelValue:d(k),"onUpdate:modelValue":t[5]||(t[5]=e=>P(k)?k.value=e:null),class:"demo-tabs"},{default:l(()=>[a(C,{label:d(f).PARAMS,name:d(f).PARAMS},{default:l(()=>[a(b,{data:o.triggerConfig.updateValue["request.requestParams.Params"],class:"w-100%",border:""},{default:l(()=>[a(s,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:n("Params"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(s,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(y,{class:"w-100% mt-2",onClick:t[0]||(t[0]=e=>g(o.triggerConfig.updateValue["request.requestParams.Params"]))},{default:l(()=>[V(" 添加参数设置")]),_:1})]),_:1},8,["label","name"]),o.targetConfig.request.requestHttpType!=d(T).GET?(p(),O(C,{key:0,label:d(f).BODY,name:d(f).BODY},{default:l(()=>[a(A,{modelValue:d(m),"onUpdate:modelValue":t[1]||(t[1]=e=>P(m)?m.value=e:null),name:"radiogroup"},{default:l(()=>[(p(!0),c(z,null,Q(d(x),e=>(p(),O(R,{key:e,label:e},{default:l(()=>[V(X(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),d(m)=="form-data"?(p(),c("div",K,[a(b,{data:o.triggerConfig.updateValue["request.requestParams.Body.form-data"],class:"w-100%",border:""},{default:l(()=>[a(s,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:n("Body.form-data"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(s,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(r,{modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(y,{class:"w-100% mt-2",onClick:t[2]||(t[2]=e=>g(o.triggerConfig.updateValue["request.requestParams.Body.form-data"]))},{default:l(()=>[V(" 添加参数设置")]),_:1})])):d(m)=="json"?(p(),c("div",Z,[a(b,{data:o.triggerConfig.updateValue["request.requestParams.Body.json"],class:"w-100%",border:""},{default:l(()=>[a(s,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:n("Body.json"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(s,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(y,{class:"w-100% mt-2",onClick:t[3]||(t[3]=e=>g(o.triggerConfig.updateValue["request.requestParams.Body.json"]))},{default:l(()=>[V(" 添加参数设置")]),_:1})])):d(m)=="x-www-form-urlencoded"?(p(),c("div",h,[a(b,{data:o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"],class:"w-100%",border:""},{default:l(()=>[a(s,{prop:"key",label:"目标参数"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.key,"onUpdate:modelValue":u=>e.key=u,options:n("Body.x-www-form-urlencoded"),clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(s,{prop:"value",label:"映射字段"},{default:l(({row:e})=>[a(r,{class:"w-100%",modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,options:o.mappingFieldOptions,clearable:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1})]),_:1},8,["data"]),a(y,{class:"w-100% mt-2",onClick:t[4]||(t[4]=e=>g(o.triggerConfig.updateValue["request.requestParams.Body.x-www-form-urlencoded"]))},{default:l(()=>[V(" 添加参数设置")]),_:1})])):B("",!0)]),_:1},8,["label","name"])):B("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])):B("",!0)}}});export{qe as default};
