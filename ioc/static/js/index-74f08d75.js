import{_ as B}from"./index-806da9dd.js";import{J as I,c as q}from"./index-4e626338.js";/* empty css                  *//* empty css                *//* empty css                     *//* empty css                    *//* empty css              */import"./config-502f40fc.js";import"./axios-ba46900f.js";import"./echarts-676dbcd6.js";import"./lodash-f91682a1.js";import{_ as D}from"./InfoWindow.vue_vue_type_script_setup_true_lang-18ca35cd.js";import{u as T}from"./useBmapHooks-4161bd26.js";import{q as j}from"./vue3BaiduMapGl-635dd965.js";import{d as O,p as w,a7 as A,g as U,o as V,s as C,w as l,a as e,u as i,r as P,c as k,h as J,a0 as x,F as L,q as M,x as W,b as $,a6 as z}from"./vue-65382a1b.js";/* empty css                */import{_ as F}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import{_ as N}from"./SettingItem-0e9c370f.js";/* empty css                        *//* empty css                  */import{x as G,N as R,ae as Z,a3 as h,a2 as H,p as K,an as Q,Q as X,P as Y,i as ee,ao as te,al as oe,k as ne}from"./elementPlus-07602b2b.js";import{_ as le}from"./xgplayerVue-c27b6911.js";/* empty css                   */import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";import"./index-55ccac47.js";import"./axios-e76ab20a.js";import"./editorWorker-7e4b3ef6.js";/* empty css                 *//* empty css                                                                    */const ae=O({__name:"previewMap",props:{optionData:{type:Object,required:!0},config:{type:Object,required:!0}},setup(t){const m=t,d=T();w("mapIns",d);let{mapKey:c,mapLog:_,mapLat:s,mapZindex:g,pitch:u,heading:o,mapType:f}=A(m.optionData.mapOptions);const a=U(()=>({lng:_.value,lat:s.value}));function p({map:r,BmapGL:b,instance:y}){d.setMap(r)}return(r,b)=>(V(),C(i(j),{ak:i(c),center:i(a),zoom:i(g),tilt:i(u),heading:i(o),mapType:i(f),height:"100%",enableScrollWheelZoom:"",onInitd:p},{default:l(()=>[e(i(D),{config:t.config},null,8,["config"])]),_:1},8,["ak","center","zoom","tilt","heading","mapType"]))}}),ie={class:"InfoWindowConfig"},me={class:"kh-g-2"},ue=O({__name:"InfoWindowConfig",props:{config:{type:Object,required:!0}},setup(t){const m=t,d=U({get(){return m.config.offset.x},set(u){m.config.offset.x=u}}),c=U({get(){return m.config.offset.y},set(u){m.config.offset.y=u}}),_=[{value:"component",label:"内部组件"},{value:"iframe",label:"嵌入页面"}],s=P(I(m.config.content.component.attrs));function g(){try{m.config.content.component.attrs=q(s.value)}catch(u){s.value=JSON.stringify(m.config.content.component.attrs)}}return(u,o)=>{const f=G,a=N,p=R,r=Z,b=N,y=h,E=H,v=F,S=K;return V(),k("div",ie,[e(a,{name:"窗体名称"},{default:l(()=>[e(f,{modelValue:t.config.name,"onUpdate:modelValue":o[0]||(o[0]=n=>t.config.name=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"是否显示"},{default:l(()=>[e(p,{modelValue:t.config.visible,"onUpdate:modelValue":o[1]||(o[1]=n=>t.config.visible=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"标题"},{default:l(()=>[e(f,{modelValue:t.config.title,"onUpdate:modelValue":o[2]||(o[2]=n=>t.config.title=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"窗体宽度(可选范围:0, 220 - 730)"},{default:l(()=>[e(r,{modelValue:t.config.width,"onUpdate:modelValue":o[3]||(o[3]=n=>t.config.width=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"窗体高度(可选范围:0, 60 - 650)"},{default:l(()=>[e(r,{modelValue:t.config.height,"onUpdate:modelValue":o[4]||(o[4]=n=>t.config.height=n)},null,8,["modelValue"])]),_:1}),e(b,{name:"偏移量"},{default:l(()=>[J("div",me,[e(r,{modelValue:i(d),"onUpdate:modelValue":o[5]||(o[5]=n=>x(d)?d.value=n:null)},null,8,["modelValue"]),e(r,{modelValue:i(c),"onUpdate:modelValue":o[6]||(o[6]=n=>x(c)?c.value=n:null)},null,8,["modelValue"])])]),_:1}),e(a,{name:"是否自动调整窗体到视野内"},{default:l(()=>[e(p,{modelValue:t.config.enableAutoPan,"onUpdate:modelValue":o[7]||(o[7]=n=>t.config.enableAutoPan=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"是否在鼠标点击地图后关闭信息窗体"},{default:l(()=>[e(p,{modelValue:t.config.enableCloseOnClick,"onUpdate:modelValue":o[8]||(o[8]=n=>t.config.enableCloseOnClick=n)},null,8,["modelValue"])]),_:1}),e(a,{name:"类型"},{default:l(()=>[e(E,{modelValue:t.config.content.type,"onUpdate:modelValue":o[9]||(o[9]=n=>t.config.content.type=n)},{default:l(()=>[(V(),k(L,null,M(_,n=>e(y,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t.config.content.type==="component"?(V(),C(a,{key:0,name:"组件名称"},{default:l(()=>[e(f,{modelValue:t.config.content.component.is,"onUpdate:modelValue":o[10]||(o[10]=n=>t.config.content.component.is=n)},null,8,["modelValue"])]),_:1})):t.config.content.type==="iframe"?(V(),C(a,{key:1,name:"链接地址"},{default:l(()=>[e(f,{modelValue:t.config.content.iframe.src,"onUpdate:modelValue":o[11]||(o[11]=n=>t.config.content.iframe.src=n)},null,8,["modelValue"])]),_:1})):W("",!0),e(a,{name:"组件传参"},{default:l(()=>[e(S,{"body-style":"padding:0"},{default:l(()=>[e(v,{height:"300px",modelValue:i(s),"onUpdate:modelValue":o[12]||(o[12]=n=>x(s)?s.value=n:null),language:"json",editorOptions:{lineNumbers:"off",lineDecorationsWidth:-20,minimap:{enabled:!1}},onBlur:g},null,8,["modelValue"])]),_:1})]),_:1})])}}}),de=O({__name:"index",props:{modelValue:{type:Boolean,required:!0},config:{type:Object,required:!0},optionData:{type:Object,required:!0}},emits:["update:modelValue","save"],setup(t,{emit:m}){const d=t;w("coverGroupConfig",d.config);const c=U({get(){return d.modelValue},set(g){m("update:modelValue",g)}});function _(){m("save",d.config)}const s=$({activeName:"1"});return(g,u)=>{const o=Q,f=X,a=Y,p=ee,r=te,b=oe,y=ne,E=B;return V(),C(E,{title:"信息窗体配置",modelValue:i(c),"onUpdate:modelValue":u[1]||(u[1]=v=>x(c)?c.value=v:null),width:"75%",top:"10vh"},{footer:l(()=>[e(y,{type:"primary",onClick:_},{default:l(()=>[z("保存")]),_:1})]),default:l(()=>[e(b,{class:"container"},{default:l(()=>[e(o,{style:{padding:"0"}},{default:l(()=>[e(ae,{optionData:t.optionData,config:d.config},null,8,["optionData","config"])]),_:1}),e(r,{width:"350px",class:"aside"},{default:l(()=>[e(p,null,{default:l(()=>[e(a,{modelValue:i(s).activeName,"onUpdate:modelValue":u[0]||(u[0]=v=>i(s).activeName=v),class:"demo-tabs"},{default:l(()=>[e(f,{label:"配置",name:"1"},{default:l(()=>[e(ue,{config:t.config},null,8,["config"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const Fe=le(de,[["__scopeId","data-v-102b5b0b"]]);export{Fe as default};
