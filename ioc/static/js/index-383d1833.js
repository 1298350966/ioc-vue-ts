var J=Object.defineProperty;var B=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var U=(e,o,n)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,O=(e,o)=>{for(var n in o||(o={}))X.call(o,n)&&U(e,n,o[n]);if(B)for(var n of B(o))Y.call(o,n)&&U(e,n,o[n]);return e};var j=(e,o,n)=>new Promise((l,c)=>{var p=s=>{try{f(n.next(s))}catch(r){c(r)}},d=s=>{try{f(n.throw(s))}catch(r){c(r)}},f=s=>s.done?l(s.value):Promise.resolve(s.value).then(p,d);f((n=n.apply(e,o)).next())});import{av as b}from"./index-4e626338.js";/* empty css                    *//* empty css                    */import Z from"./index-a98522d4.js";import{_ as ee}from"./index-806da9dd.js";/* empty css                 */import"./el-collapse-item-4ed993c7.js";/* empty css                *//* empty css                  */import{d as I,r as y,o as m,s as M,w as a,a as t,u as v,a0 as T,c as h,F as k,q as F,h as i,l as w,a6 as D,G as L,H as N,f as te,al as ae,y as oe,k as ne,z as se}from"./vue-65382a1b.js";import{_ as le}from"./hCode-f0cdea69.js";/* empty css                *//* empty css                     */import{_ as re}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";import{E as A}from"./config-bc3d1c58.js";import{Q as R,P as q,an as _e,U as K,T as P,i as ce,ao as ie,al as pe,k as de,p as ue,n as me}from"./elementPlus-07602b2b.js";import{_ as S}from"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./lodash-f91682a1.js";import"./vuema-115cb50e.js";import"./index-55ccac47.js";import"./echarts-676dbcd6.js";import"./index-84c1849b.js";/* empty css                *//* empty css                 *//* empty css                 */import"./chartEditStore-8641b951.js";import"./plugin-68db7aa1.js";/* empty css               *//* empty css                  *//* empty css                        *//* empty css                     */import"./config-1821c59e.js";import"./useTargetData.hook-7e83673b.js";import"./config-d82a35a6.js";import"./Close-095524a6.js";/* empty css                   */import"./highlight-87778b4e.js";import"./editorWorker-7e4b3ef6.js";const z=e=>(L("data-v-b920d817"),e=e(),N(),e),ve={class:"go-pl-3"},fe=z(()=>i("span",{class:"func-keyword"},"async function  ",-1)),Ee={class:"func-keyNameWord"},ge=z(()=>i("p",{class:"go-pl-3 func-keyNameWord"},"}",-1)),be=I({__name:"FunEditor",props:{baseEvent:{},targetData:{}},emits:["close"],setup(e,{expose:o,emit:n}){const l=e;let c=y(b.ON_CLICK);const p=y(!1),d=()=>{let s="",r="",x="";return p.value=Object.entries(l.baseEvent).every(([g,C])=>{try{const E=Object.getPrototypeOf(function(){return j(this,null,function*(){})}).constructor;return new E(C),!0}catch(E){return r=E.message,x=E.name,s=g,!1}}),{errorFn:s,message:r,name:x}};return o({saveEvents:()=>{if(d().errorFn){window.$message.error("事件函数错误，无法进行保存");return}Object.values(l.baseEvent).join("").trim()===""?(console.log(l.targetData),l.targetData.events.baseEvent={[b.ON_CLICK]:void 0,[b.ON_DBL_CLICK]:void 0,[b.ON_MOUSE_OVER]:void 0,[b.ON_MOUSE_OUT]:void 0}):l.targetData.events.baseEvent=O({},l.baseEvent),n("close")}}),(s,r)=>{const x=re,g=R,C=q,E=_e,V=K,$=P,u=ce,W=ie,G=pe;return m(),M(G,null,{default:a(()=>[t(E,{style:{padding:"0"}},{default:a(()=>[t(C,{modelValue:v(c),"onUpdate:modelValue":r[0]||(r[0]=_=>T(c)?c.value=_:c=_),type:"border-card",class:"demo-tabs"},{default:a(()=>[(m(!0),h(k,null,F(v(b),(_,Fe)=>(m(),M(g,{label:`${v(A)[_]}-${_}`,name:_},{default:a(()=>[i("p",ve,[fe,i("span",Ee,w(_)+"(data, e)  {",1)]),t(x,{modelValue:s.baseEvent[_],"onUpdate:modelValue":Q=>s.baseEvent[_]=Q,height:"480px",language:"javascript"},null,8,["modelValue","onUpdate:modelValue"]),ge]),_:2},1032,["label","name"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(W,{width:"240px;",style:{"padding-left":"15px"}},{default:a(()=>[t(u,null,{default:a(()=>[t($,null,{default:a(()=>[(m(!0),h(k,null,F([d()],_=>(m(),h(k,{key:_},[t(V,{title:"错误函数",name:1},{default:a(()=>[D(w(_.errorFn||"暂无"),1)]),_:2},1024),t(V,{title:"错误信息",name:2},{default:a(()=>[D(w(_.name||"暂无"),1)]),_:2},1024),t(V,{title:"堆栈信息",name:3},{default:a(()=>[D(w(_.message||"暂无"),1)]),_:2},1024)],64))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}});const ye=S(be,[["__scopeId","data-v-b920d817"]]),H=e=>(L("data-v-d033aabc"),e=e(),N(),e),he={class:"func-annotate"},De=H(()=>i("br",null,null,-1)),xe={class:"func-keyword"},we={class:"go-ml-4"},Ce=H(()=>i("p",null,[D("}"),i("span",null,",")],-1)),Ve=I({__name:"eventBase",props:{targetData:{type:Object,required:!0}},setup(e){const o=e,n=y(!0),l=y(!1);let c=y(O({},o.targetData.events.codeEvents.baseEvent));const p=()=>{l.value=!1},d=y(null),f=()=>{var s;(s=d.value)==null||s.saveEvents()};return te(()=>l.value,s=>{s&&(c.value=O({},o.targetData.events.codeEvents.baseEvent))}),(s,r)=>{const x=ae("Edit"),g=de,C=ue,E=K,V=me,$=ee;return m(),h(k,null,[t(E,{title:"基础事件配置",name:"1"},{default:a(()=>[t(C,{class:"collapse-show-box",shadow:"never"},{default:a(()=>[oe(t(g,{class:"edit",text:"",circle:"",type:"primary",size:"small",onClick:r[0]||(r[0]=ne(u=>l.value=!0,["stop"]))},{default:a(()=>[t(x,{style:{width:"15px",height:"15px"}})]),_:1},512),[[se,n.value]]),(m(!0),h(k,null,F(v(b),u=>(m(),h("div",{key:u},[i("p",null,[i("span",he,"// "+w(v(A)[u]),1),De,i("span",xe,"async "+w(u),1),D(" (mouseEvent) { ")]),i("p",we,[t(v(le),{code:(e.targetData.events.codeEvents.baseEvent||{})[u]||"",language:"typescript"},null,8,["code"])]),Ce]))),128))]),_:1})]),_:1}),t($,{"custom-class":"FunEditorDialog",modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=u=>l.value=u),title:"基础事件编辑器"},{footer:a(()=>[t(V,null,{default:a(()=>[t(g,{onClick:p},{default:a(()=>[D("取消")]),_:1}),t(g,{type:"primary",onClick:f},{default:a(()=>[D("保存")]),_:1})]),_:1})]),default:a(()=>[t(ye,{ref_key:"funEditorRef",ref:d,baseEvent:v(c),targetData:e.targetData,onClose:p},null,8,["baseEvent","targetData"])]),_:1},8,["modelValue"])],64)}}});const ke=S(Ve,[["__scopeId","data-v-d033aabc"]]),Oe={class:"ChartEvent"},$e=I({__name:"index",props:{targetData:{type:Object,required:!0}},setup(e){const o=y("1");return(n,l)=>{const c=P,p=R,d=q;return m(),h("div",Oe,[t(d,{modelValue:v(o),"onUpdate:modelValue":l[0]||(l[0]=f=>T(o)?o.value=f:null),class:"demo-tabs"},{default:a(()=>[t(p,{label:"简单模式",name:"1"},{default:a(()=>[t(c,null,{default:a(()=>[t(v(Z),{configEvents:e.targetData.events.configEvents},null,8,["configEvents"])]),_:1})]),_:1}),t(p,{label:"复杂模式",name:"2"},{default:a(()=>[t(c,null,{default:a(()=>[t(ke,{targetData:e.targetData},null,8,["targetData"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});const Et=S($e,[["__scopeId","data-v-4e38b14e"]]);export{Et as default};
