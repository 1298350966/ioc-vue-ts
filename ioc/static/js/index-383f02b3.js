var mn=Object.defineProperty,_n=Object.defineProperties;var Cn=Object.getOwnPropertyDescriptors;var St=Object.getOwnPropertySymbols;var yn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var Tt=(e,t,n)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))yn.call(t,n)&&Tt(e,n,t[n]);if(St)for(var n of St(t))wn.call(t,n)&&Tt(e,n,t[n]);return e},we=(e,t)=>_n(e,Cn(t));var Ee=(e,t,n)=>new Promise((s,o)=>{var d=i=>{try{p(n.next(i))}catch(l){o(l)}},r=i=>{try{p(n.throw(i))}catch(l){o(l)}},p=i=>i.done?s(i.value):Promise.resolve(i.value).then(d,r);p((n=n.apply(e,t)).next())});import{_ as j}from"./vueRepl-a238c739.js";import{d as V,r as F,g as O,f as pe,al as Ze,o as y,c as M,a as g,h as L,n as q,y as Le,z as Re,F as he,q as me,s as K,l as Te,m as ve,A as He,b as $e,k as Ve,x as de,ah as ht,N as Vt,aH as yt,w,j as be,aI as tt,a7 as Pe,B as zt,u as v,G as Kt,H as Yt,e as En,a5 as Se,a0 as Ft,p as Sn}from"./vue-65382a1b.js";import{_ as ue}from"./xgplayerVue-c27b6911.js";import{M as k,r as re,d as ft,c as Je,e as Xt,f as Tn,h as bn,a as Ue,u as ze,D as An,i as Z,j as at,t as ie,k as bt,W as Wt,l as qt,m as At,n as rt,o as kn,J as In,p as Ln,g as lt,B as Xe,E as kt,q as Rn,C as It,S as Qe,v as xn,s as it}from"./index-4e626338.js";/* empty css                */import{u as Q,E as ce,a as Qt,b as Zt,C as Mn,T as Lt,l as ee,H as Rt}from"./chartEditStore-8641b951.js";import{l as Jt,a as Dn,b as xt,g as On}from"./plugin-68db7aa1.js";import{i as Ke,B as $n}from"./icon-24f36b03.js";import{a as Hn}from"./views-99f1c264.js";/* empty css                    *//* empty css                 *//* empty css                     */import{n as wt,i as Pn,a3 as Nn,a2 as Bn,af as Un,w as jt,k as en,ab as Gn,C as Et,Q as tn,P as nn,al as Vn,an as zn}from"./elementPlus-07602b2b.js";import{c as on,a as sn,m as ct,b as Kn,d as Yn,P as Fn}from"./index-55ccac47.js";import{l as Ce,c as Xn,a as Wn}from"./lodash-f91682a1.js";/* empty css                  *//* empty css                        *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css               *//* empty css                  */import{a as vt,g as je,b as pt}from"./style-2d240cf8.js";import{F as Mt}from"./fileTypeEnum-eae25d97.js";/* empty css                    *//* empty css                  *//* empty css                */import{f as qn,a as Qn,r as Zn}from"./axios-ba46900f.js";/*!vue3-sketch-ruler v1.3.62022年11月Fri Nov 04 2022 18:18:02 GMT+0800 (中国标准时间)制作*/var nt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const Jn=V({name:"LineRuler",props:{scale:Number,thick:Number,palette:Object,index:Number,start:Number,vertical:Boolean,value:Number,isShowReferLine:Boolean},emits:["onMouseDown","onRelease","onRemove"],setup(e,{emit:t}){const n=F(0),s=F(!0);He(()=>{n.value=e.value});const o=a=>{s.value=a>=0},d=O(()=>{const a=(n.value-e.start)*e.scale;o(a);const u=a+"px";return e.vertical?{top:u}:{left:u}}),r=O(()=>{var a;const u=`1px solid ${(a=e.palette)==null?void 0:a.lineColor}`,c=e.vertical?{borderTop:u}:{borderLeft:u},f=e.isShowReferLine?e.vertical?"ns-resize":"ew-resize":"none";return B({cursor:f},c)}),p=O(()=>e.vertical?{left:e.thick+"px"}:{top:e.thick+"px"});return{startValue:n,showLine:s,offset:d,borderCursor:r,actionStyle:p,handleDown:a=>{const u=e.vertical?a.clientY:a.clientX,c=n.value;t("onMouseDown");const f=_=>{const S=e.vertical?_.clientY:_.clientX,C=Math.round(c+(S-u)/e.scale);n.value=C},m=()=>{t("onRelease",n.value,e.index),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)},handleRemove:()=>{t("onRemove",e.index)}}}}),jn={class:"value"};function eo(e,t,n,s,o,d){return Le((y(),M("div",{class:"line",style:q([e.offset,e.borderCursor]),onMousedown:t[1]||(t[1]=(...r)=>e.handleDown&&e.handleDown(...r))},[L("div",{class:"action",style:q(e.actionStyle)},[L("span",{class:"del",onClick:t[0]||(t[0]=(...r)=>e.handleRemove&&e.handleRemove(...r))},"×"),L("span",jn,Te(e.startValue),1)],4)],36)),[[Re,e.showLine]])}var to=nt(Jn,[["render",eo],["__scopeId","data-v-5dea28d6"]]);const no=e=>e<=.25?40:e<=.5?20:e<=1?10:e<=2?5:e<=4?2:1,Dt=.83,oo=(e,t,n,s,o,d)=>{const{scale:r,width:p,height:i,ratio:l,palette:a}=o,{bgColor:u,fontColor:c,shadowColor:f,longfgColor:m,shortfgColor:_}=a;if(e.scale(l,l),e.clearRect(0,0,p,i),e.fillStyle=u,e.fillRect(0,0,p,i),s){const T=(n-t)*r,H=s*r;e.fillStyle=f,d?e.fillRect(T,0,H,i*3/8):e.fillRect(0,T,p*3/8,H)}const S=no(r),C=S*r,A=S*10,N=A*r,x=Math.floor(t/S)*S,X=Math.floor(t/A)*A,$=(x-t)/S*C,W=(X-t)/A*N,P=t+Math.ceil((d?p:i)/r);e.beginPath(),e.fillStyle=c,e.strokeStyle=m;for(let T=X,H=0;T<P;T+=A,H++){const b=W+H*N+.5;d?e.moveTo(b,0):e.moveTo(0,b),e.save(),d?e.translate(b,i*.4):e.translate(p*.4,b),d||e.rotate(-Math.PI/2),e.scale(Dt/l,Dt/l),e.fillText(T.toString(),4*l,7*l),e.restore(),d?e.lineTo(b,i*9/16):e.lineTo(p*9/16,b)}e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle=_;for(let T=x,H=0;T<P;T+=S,H++){const b=$+H*C+.5;d?e.moveTo(b,0):e.moveTo(0,b),T%A!==0&&(d?e.lineTo(b,i*1/4):e.lineTo(p*1/4,b))}e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},so=V({name:"CanvasRuler",props:{showIndicator:Boolean,valueNum:Number,scale:Number,ratio:Number,palette:Object,vertical:Boolean,start:Number,width:Number,height:Number,selectStart:Number,selectLength:Number},emits:["onAddLine","update:showIndicator","update:valueNum"],setup(e,{emit:t}){const n=$e({canvasContext:null});let s=1;const o=F(null);He(()=>{s=e.ratio||window.devicePixelRatio||1,d(),r(s),p(s)});const d=()=>{n.canvasContext=o.value&&o.value.getContext("2d")},r=l=>{if(o.value){o.value.width=e.width*l,o.value.height=e.height*l;const a=n.canvasContext;a&&(a.font=`${12*l}px -apple-system,
                "Helvetica Neue", ".SFNSText-Regular",
                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",
                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif`,a.lineWidth=1,a.textBaseline="middle")}},p=l=>{const a={scale:e.scale,width:e.width,height:e.height,palette:e.palette,ratio:l};n.canvasContext&&oo(n.canvasContext,e.start,e.selectStart,e.selectLength,a,!e.vertical)};return pe(()=>e.start,()=>p(s)),pe([()=>e.width,()=>e.height],()=>{r(s),p(s)}),{handle:(l,a)=>{const u=(m,_,S)=>Math.round(_+m/S),c=e.vertical?l.offsetY:l.offsetX,f=u(c,e.start,e.scale);switch(a){case"click":t("onAddLine",f);break;case"enter":t("update:valueNum",f),t("update:showIndicator",!0);break;default:t("update:valueNum",f);break}},canvas:o}}});function ao(e,t,n,s,o,d){return y(),M("canvas",{ref:"canvas",class:"ruler",onClick:t[0]||(t[0]=r=>e.handle(r,"click")),onMouseenter:t[1]||(t[1]=r=>e.handle(r,"enter")),onMousemove:t[2]||(t[2]=r=>e.handle(r,"move")),onMouseleave:t[3]||(t[3]=r=>e.$emit("update:showIndicator",!1))},null,544)}var ro=nt(so,[["render",ao]]);const lo={scale:Number,ratio:Number,thick:Number,palette:Object,vertical:{type:Boolean,default:!0},width:{type:Number,default:200},height:{type:Number,default:200},start:{type:Number,default:0},lines:{type:Array,default:()=>[]},selectStart:{type:Number},selectLength:{type:Number},isShowReferLine:{type:Boolean}},io=V({name:"RulerWrapper",components:{CanvasRuler:ro,RulerLine:to},props:lo,setup(e){const t=F(!1),n=F(0),s=O(()=>e.vertical?"v-container":"h-container"),o=O(()=>{const l={width:`calc(100% - ${e.thick}px)`,height:`${e.thick+1}px`,left:`${e.thick}px`},a={width:`${e.thick&&e.thick+1}px`,height:`calc(100% - ${e.thick}px)`,top:`${e.thick}px`};return e.vertical?a:l}),d=O(()=>{var l;const a=(n.value-e.start)*e.scale;let u="top",c="borderLeft";return u=e.vertical?"top":"left",c=e.vertical?"borderBottom":"borderLeft",{[u]:a+"px",[c]:`1px solid ${(l=e.palette)==null?void 0:l.lineColor}`}}),r=l=>{e.lines.push(l)},p=(l,a)=>{const u=l-e.start,c=(e.vertical?e.height:e.width)/e.scale;u<0||u>c?i(a):e.lines[a]=l},i=l=>{e.lines.splice(l,1)};return{showIndicator:t,valueNum:n,rwClassName:s,rwStyle:o,indicatorStyle:d,handleNewLine:r,handleLineRelease:p,handleLineRemove:i}}}),co={class:"lines"},uo={class:"value"};function ho(e,t,n,s,o,d){const r=Ze("CanvasRuler"),p=Ze("RulerLine");return y(),M("div",{class:ve(e.rwClassName),style:q(e.rwStyle)},[g(r,{vertical:e.vertical,scale:e.scale,width:e.width,height:e.height,start:e.start,ratio:e.ratio,"select-start":e.selectStart,"select-length":e.selectLength,palette:e.palette,valueNum:e.valueNum,"onUpdate:valueNum":t[0]||(t[0]=i=>e.valueNum=i),showIndicator:e.showIndicator,"onUpdate:showIndicator":t[1]||(t[1]=i=>e.showIndicator=i),onOnAddLine:e.handleNewLine},null,8,["vertical","scale","width","height","start","ratio","select-start","select-length","palette","valueNum","showIndicator","onOnAddLine"]),Le(L("div",co,[(y(!0),M(he,null,me(e.lines,(i,l)=>(y(),K(p,{key:i+l,index:l,value:i>>0,scale:e.scale,start:e.start,thick:e.thick,palette:e.palette,vertical:e.vertical,"is-show-refer-line":e.isShowReferLine,onOnRemove:e.handleLineRemove,onOnRelease:e.handleLineRelease},null,8,["index","value","scale","start","thick","palette","vertical","is-show-refer-line","onOnRemove","onOnRelease"]))),128))],512),[[Re,e.isShowReferLine]]),Le(L("div",{class:"indicator",style:q(e.indicatorStyle)},[L("div",uo,Te(e.valueNum),1)],4),[[Re,e.showIndicator]])],6)}var fo=nt(io,[["render",ho],["__scopeId","data-v-b6c23352"]]);const vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAopJREFUOE/FlE9IVEEcx7+/N9ouds1Mu0QUSFZYdIgoUqQoKPBQHsKozpXE7jbTO/U8xLJvn6usBHWQ6hBFXupSkQeVbh0KJEPp0sH+eLGTsKs77xcj78m0ax0E8cHjzZv5zef3/c33xxA24KENYGJzoEEQbNNaN4Zh2OQ4znwYhr9c1/39vwrXVDo0NNS0tLR0GYB5D64BmAMwzMyvlFKz1es10Hw+f4mZ7wHYBeA9gNdENFepVOaEEM3M3OI4Thczn41gt6WUgQ3+C+r7/h0AWQD3mXnYqPA8L9nQ0HCemduIaFpKOWoAhUJhT6VSuQXgOjP3K6W8GLwKzeVyp4jonR0QBEErM48w8zFLyayUsjX+z+VyHhHdZebTSqkxM78CHRgYOKS1/ghgVErZY214RkQ7ADyRUj72ff8qgCtmXUrZGcf5vv8CwEUhxOF0Ov1pBRpla5dSdseBhUJhpznH6tIsZb1KqacW+BGArUaUXX63UuplHJTNZjuEEONSyhozfd/n6mQ1RkXZL2itz7mu+80EDA4ONi8vL/8AcM2UbikyR2BU9cSmmTU70YqKIAj2hWFo2uenlHK/BRg3Y2aeNO5GyU8S0ZbFxcUuz/NKEXAGQKPjOCcymcyX1dIi8DSAiWQyeaavr68cbSgCuBknYubnQoj+TCYzUywWE6VS6S2ADsdx2gxw1X3L7SNENMbMnwE8qK+vf5NKpRaMaeVyeW8ikfiaSqW+R7BuZr5BRMe11p2u607U9Gk8kc/ntzPzQwCmExYATDLzVBiGE0KIowAOADDf3QA+aK2VDaxRajto3K+rq+tl5nYAzQBamHmeiOYBTGmtR6ph/1Rqg9c73pz7dD1qN0TpHyNQRCUDJXrAAAAAAElFTkSuQmCC",po="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAjtJREFUOE/NlD9oFEEUxn9v9ghC0hpRUogIAUmniGAT/5Q2FrETPSNRJILg7RwimI0ox85eQFCEBGIUO1PYpFM0jSConQoBEZGgGPsgl+w+2eM2bC57SopAFqYZ3v7m+977ZoQt+GQLmGxPaBiGgYiMWWvXBHZUGoZhH3BERPYC+4F+4Keq/urt7b1RLpf/ZEBVHa9Wq0HWyg3QKIoGVPU8cA7wgK/pUtXPQJ8xZk+pVBpuNBqXUoUiEvi+P56fzTpo6+SbwHNg1lo7WzTITGEKXFlZeeB53tVCpa3CK8AFa+1cBgvD8LKIXAQOJkkyICJDeYVBEJS6u7s/qeoLa+1o+l9TqXNuBLhmjDlbqVQ+5ICjInIfOBPH8W9jzGCR5YmJiRNxHM+papgqzqDvgSlr7VTernPuO3An3c9bBt74vv+yrdaKyLDv+/1Sq9UGPc97nY9EVuycU2AQOA7cAm4Dr4D5TvVxHB9rKo2iaEFVp621Ln96FEUngaOqGmSxabVqsh3a2h+x1h5qQjNrae/yE4+iaCwDJkky73neTuBZe129Xk+H+BS4l7ZqLVIZ2BhzuFKpvMsDVXXWGPMxFdAedOfcKeCRqj7MYrUhpz09PfXl5eXrectFWXXODQHpOq2qd/95o/JXr6ura3J1dXU6SZIfwKKIHAD2tVYMPBGRx77vN10UXtO85fTkmZmZHUtLSzUR2QXsBhaAL6r6DXhbrVYXi1yss59GqOgub/bN3Z7v6X/tb9Zmp/q/kN8s+lJb8oEAAAAASUVORK5CYII=",go={eyeIcon:{type:String},closeEyeIcon:{type:String},scale:{type:Number,default:1},ratio:{type:Number},thick:{type:Number,default:16},palette:Object,startX:{type:Number},startY:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},shadow:{type:Object,default:()=>({x:0,y:0,width:0,height:0})},lines:{type:Object,default:()=>({h:[],v:[]})},isShowReferLine:{type:Boolean,default:!0}},mo=V({name:"SketchRule",components:{RulerWrapper:fo},props:go,emits:["onCornerClick"],setup(e,{emit:t}){let n=F(!0);n.value=e.isShowReferLine;const s=O(()=>{function r(i,l){return Object.keys(i).forEach(a=>{a&&i.hasOwnProperty(a)&&(typeof l.key=="object"?i[a]=r(i[a],l[a]):l.hasOwnProperty(a)&&(i[a]=l[a]))}),i}return r({bgColor:"rgba(225,225,225, 0)",longfgColor:"#BABBBC",shortfgColor:"#C8CDD0",fontColor:"#7D8694",shadowColor:"#E8E8E8",lineColor:"#EB5648",borderColor:"#DADADC",cornerActiveColor:"rgb(235, 86, 72, 0.6)",menu:{bgColor:"#fff",dividerColor:"#DBDBDB",listItem:{textColor:"#415058",hoverTextColor:"#298DF8",disabledTextColor:"rgba(65, 80, 88, 0.4)",bgColor:"#fff",hoverBgColor:"#F2F2F2"}}},e.palette||{})}),o=O(()=>({backgroundImage:n.value?`url(${e.eyeIcon||vo})`:`url(${e.closeEyeIcon||po})`,width:e.thick+"px",height:e.thick+"px",borderRight:`1px solid ${s.value.borderColor}`,borderBottom:`1px solid ${s.value.borderColor}`})),d=r=>{n.value=!n.value,t("onCornerClick",n.value)};return pe([()=>e.isShowReferLine],()=>{n.value=e.isShowReferLine}),{showReferLine:n,paletteCpu:s,cornerStyle:o,onCornerClick:d}}}),_o={id:"mb-ruler",class:"style-ruler mb-ruler"};function Co(e,t,n,s,o,d){const r=Ze("RulerWrapper");return y(),M("div",_o,[g(r,{vertical:!1,width:e.width,height:e.thick,"is-show-refer-line":e.showReferLine,thick:e.thick,ratio:e.ratio,start:e.startX,lines:e.lines.h,"select-start":e.shadow.x,"select-length":e.shadow.width,scale:e.scale,palette:e.paletteCpu},null,8,["width","height","is-show-refer-line","thick","ratio","start","lines","select-start","select-length","scale","palette"]),g(r,{vertical:!0,width:e.thick,height:e.height,"is-show-refer-line":e.showReferLine,thick:e.thick,ratio:e.ratio,start:e.startY,lines:e.lines.v,"select-start":e.shadow.y,"select-length":e.shadow.height,scale:e.scale,palette:e.paletteCpu},null,8,["width","height","is-show-refer-line","thick","ratio","start","lines","select-start","select-length","scale","palette"]),L("a",{class:"corner",style:q(e.cornerStyle),onClick:t[0]||(t[0]=(...p)=>e.onCornerClick&&e.onCornerClick(...p))},null,4)])}var yo=nt(mo,[["render",Co]]);const wo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Eo=L("path",{d:"M64 32l35 403.22L255.77 480L413 435.15L448 32zm290.68 334.9L256.07 395l-98.46-28.24l-6.75-77.76h48.26l3.43 39.56l53.59 15.16l.13.28l53.47-14.85l5.64-64.15H203l-4-50h120.65l4.35-51H140l-4-49h240.58z",fill:"currentColor"},null,-1),So=[Eo],To=V({name:"LogoCss3",render:function(t,n){return y(),M("svg",wo,So)}}),bo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Ao=L("path",{d:"M30 30h-6v-2h4V4h-4V2h6v28z",fill:"currentColor"},null,-1),ko=L("path",{d:"M24.91 19.59a4.51 4.51 0 0 0-2.66-3.24a4.55 4.55 0 0 0-3.5 0a4.94 4.94 0 0 0-.64.35l-2.81-2.81a4.53 4.53 0 1 0-1.41 1.41l2.81 2.81a4.48 4.48 0 0 0-.61 3.3a4.51 4.51 0 0 0 2.66 3.24a4.55 4.55 0 0 0 3.5 0a4.51 4.51 0 0 0 2.66-3.24a4.65 4.65 0 0 0 0-1.82zM11.5 14a2.5 2.5 0 1 1 2.5-2.5a2.5 2.5 0 0 1-2.5 2.5z",fill:"currentColor"},null,-1),Io=L("path",{d:"M8 30H2V2h6v2H4v24h4v2z",fill:"currentColor"},null,-1),Lo=[Ao,ko,Io],Ro=V({name:"DataConnected",render:function(t,n){return y(),M("svg",bo,Lo)}}),xo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Mo=L("path",{d:"M19.626 29.526l-.516-1.933a12.004 12.004 0 0 0 6.121-19.26l1.538-1.28a14.003 14.003 0 0 1-7.143 22.473z",fill:"currentColor"},null,-1),Do=L("path",{d:"M10 29H8v-3.82l.804-.16C10.262 24.727 12 23.62 12 20v-1.382l-4-2v-2.236l4-2V12c0-5.467 3.925-9 10-9h2v3.82l-.804.16C21.738 7.273 20 8.38 20 12v.382l4 2v2.236l-4 2V20c0 5.467-3.925 9-10 9zm0-2c4.935 0 8-2.682 8-7v-2.618l3.764-1.882L18 13.618V12c0-4.578 2.385-6.192 4-6.76V5c-4.935 0-8 2.682-8 7v1.618L10.236 15.5L14 17.382V20c0 4.578-2.385 6.192-4 6.76z",fill:"currentColor"},null,-1),Oo=L("path",{d:"M5.231 24.947a14.003 14.003 0 0 1 7.147-22.474l.516 1.932a12.004 12.004 0 0 0-6.125 19.263z",fill:"currentColor"},null,-1),$o=[Mo,Do,Oo],Ho=V({name:"Function",render:function(t,n){return y(),M("svg",xo,$o)}}),Po={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},No=L("path",{d:"M26 18h-2l-2 3.897L20 18h-2l2.905 5L18 28h2l2-3.799L24 28h2l-2.902-5L26 18z",fill:"currentColor"},null,-1),Bo=L("path",{d:"M19 6V4h-5.087a1.99 1.99 0 0 0-1.992 1.819L11.27 13H7v2h4.087l-1 11H5v2h5.087a1.99 1.99 0 0 0 1.992-1.819L13.095 15H18v-2h-4.723l.636-7z",fill:"currentColor"},null,-1),Uo=[No,Bo],Go=V({name:"FunctionMath",render:function(t,n){return y(),M("svg",Po,Uo)}}),Vo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},zo=L("path",{d:"M17 18.184v-4.368a3 3 0 1 0-2 0v4.369a3 3 0 1 0 2 0zM16 10a1 1 0 1 1-1 1a1 1 0 0 1 1-1zm0 12a1 1 0 1 1 1-1a1 1 0 0 1-1 1z",fill:"currentColor"},null,-1),Ko=L("path",{d:"M30.414 17.414a2 2 0 0 0 0-2.828l-5.787-5.787l2.9-2.862a2.002 2.002 0 1 0-1.44-1.388l-2.874 2.836l-5.799-5.8a2 2 0 0 0-2.828 0L8.799 7.374L5.937 4.472A2.002 2.002 0 1 0 4.55 5.914l2.835 2.873l-5.8 5.799a2 2 0 0 0 0 2.828l5.8 5.799l-2.835 2.873a1.998 1.998 0 1 0 1.387 1.442l2.862-2.9l5.787 5.786a2 2 0 0 0 2.828 0l5.8-5.799l2.872 2.836a1.998 1.998 0 1 0 1.442-1.387l-2.9-2.863zM16 29L3 16L16 3l13 13z",fill:"currentColor"},null,-1),Yo=[zo,Ko],Fo=V({name:"GatewayApi",render:function(t,n){return y(),M("svg",Vo,Yo)}}),Xo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Wo=L("path",{d:"M28 4H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 22H12V6h16z",fill:"currentColor"},null,-1),qo=[Wo],Qo=V({name:"OpenPanelFilledLeft",render:function(t,n){return y(),M("svg",Xo,qo)}}),Zo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Jo=L("path",{d:"M28 4H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zM4 6h16v20H4z",fill:"currentColor"},null,-1),jo=[Jo],es=V({name:"OpenPanelFilledRight",render:function(t,n){return y(),M("svg",Zo,jo)}}),ts={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},ns=L("path",{d:"M26 28h-4v-2h4V6h-4V4h4a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2z",fill:"currentColor"},null,-1),os=L("path",{d:"M20 11h-2l-2 3.897L14 11h-2l2.905 5L12 21h2l2-3.799L18 21h2l-2.902-5L20 11z",fill:"currentColor"},null,-1),ss=L("path",{d:"M10 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h4v2H6v20h4z",fill:"currentColor"},null,-1),as=[ns,os,ss],rs=V({name:"ValueVariable",render:function(t,n){return y(),M("svg",ts,as)}}),ls={class:"menu-content"},is=["onClick"],cs={class:"text"},us={key:0,class:"sub-text"},ds=V({__name:"MenuContent",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}},setup(e){return(t,n)=>{const s=Ze("menu-content",!0);return y(),M("ul",ls,[(y(!0),M(he,null,me(e.menus,(o,d)=>(y(),M(he,{key:o.text||d},[o.hidden?de("",!0):(y(),M("li",{key:0,class:ve(["menu-item",{divider:o.divider,disable:o.disable}]),onClick:Ve(r=>e.handleClickMenuItem(o),["stop"])},[o.divider?de("",!0):(y(),M("div",{key:0,class:ve(["menu-item-content",{"has-children":o.children,"has-handler":o.handler}])},[L("span",cs,Te(o.label),1),o.subText&&!o.children?(y(),M("span",us,Te(o.subText),1)):de("",!0),o.children&&o.children.length?(y(),K(s,{key:1,class:"sub-menu",menus:o.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):de("",!0)],2))],10,is))],64))),128))])}}});const hs=ue(ds,[["__scopeId","data-v-b110efb3"]]),fs=V({__name:"index",props:{axis:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0},show:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const n=e,s=O(()=>{const{x:l,y:a}=n.axis,u=n.menus.filter(C=>!(C.divider||C.show)).length,c=n.menus.filter(C=>C.divider).length,f=170,m=u*30+c*11+5*2,_=document.body.clientWidth,S=document.body.clientHeight;return{left:_<=l+f?l-f:l,top:S<=a+m?a-m:a}}),o=d=>{d.disable||d.children&&!d.handler||(t("select",d.key,d),n.removeContextmenu())};return(d,r)=>(y(),M("div",null,[L("div",{class:"mask",onContextmenu:r[0]||(r[0]=Ve(p=>e.removeContextmenu(),["prevent"])),onMousedown:r[1]||(r[1]=p=>e.removeContextmenu())},null,32),L("div",{class:"contextmenu",style:q({left:s.value.left+"px",top:s.value.top+"px"}),onContextmenu:r[2]||(r[2]=Ve(()=>{},["prevent"]))},[g(hs,{menus:e.menus,handleClickMenuItem:o},null,8,["menus"])],36)]))}});const{CopyIcon:vs,CutIcon:ps,ClipboardOutlineIcon:gs,TrashIcon:Ot,ChevronDownIcon:ms,ChevronUpIcon:_s}=Ke.ionicons5,{UpToTopIcon:Cs,DownToBottomIcon:ys,PaintBrushIcon:ws,Carbon3DSoftwareIcon:Es,Carbon3DCursorIcon:Ss}=Ke.carbon,J=Q(),gt=(e=3)=>({type:"divider",key:`d${e}`}),Oe=[{label:"复制",key:k.COPY,icon:re(vs),fnHandle:J.setCopy},{label:"剪切",key:k.CUT,icon:re(ps),fnHandle:J.setCut},{label:"粘贴",key:k.PARSE,icon:re(gs),fnHandle:J.setParse},{type:"divider",key:"d1"},{label:"置顶",key:k.TOP,icon:re(Cs),fnHandle:J.setTop},{label:"置底",key:k.BOTTOM,icon:re(ys),fnHandle:J.setBottom},{label:"上移一层",key:k.UP,icon:re(_s),fnHandle:J.setUp},{label:"下移一层",key:k.DOWN,icon:re(ms),fnHandle:J.setDown},{type:"divider",key:"d2"},{label:"清空剪贴板",key:k.CLEAR,icon:re(ws),fnHandle:J.setRecordChart},{label:"删除",key:k.DELETE,icon:re(Ot),fnHandle:J.removeComponentList},{type:"divider",key:"d3"},{label:"导出图片",key:k.DOWNLOAD_IMAGE,icon:re(Ot),fnHandle:J.downloadComponentImage}],Ge=[{label:"创建分组",key:k.GROUP,icon:re(Es),fnHandle:J.setGroup},{label:"解除分组",key:k.UN_GROUP,icon:re(Ss),fnHandle:J.setUnGroup}],Ts=[k.PARSE,k.CLEAR],$t=(e,t)=>{if(!t)return e;const n=[];return t.forEach(s=>{n.push(...e.filter(o=>o.key===s))}),n},bs=(e,t)=>t?e.filter(n=>t.findIndex(s=>s!==n.key)!==-1):e,fe=F([]),As=(e,t,n,s,o)=>{console.log(e),e.stopPropagation(),e.preventDefault();let d=e.target;for(;d instanceof SVGElement;)d=d.parentNode;J.setRightMenuShow(!1),J.getTargetChart.selectId.length>1?fe.value=Ge:fe.value=Oe,t||(fe.value=$t(ht(fe.value),Ts)),s&&(fe.value=bs([...Ge,gt(),...Oe],s)),o&&(fe.value=$t([...Ge,gt(),...Oe],o)),n&&(fe.value=n(ft(ht(fe.value)),[...Ge,...Oe],t)),Vt().then(()=>{J.setMousePosition(e.clientX,e.clientY),J.setRightMenuShow(!0)})},ot=()=>(fe.value=Oe,{menuOptions:fe,defaultOptions:Oe,defaultMultiSelectOptions:Ge,handleContextMenu:As,onClickOutSide:()=>{J.setRightMenuShow(!1)},handleMenuSelect:n=>{J.setRightMenuShow(!1);const s=fe.value.filter(o=>o.key===n);fe.value.forEach(o=>{if(o.key===n){if(o.fnHandle){o.fnHandle();return}s||Jt()}})},mousePosition:J.getMousePosition}),De=Q(),ks=()=>{const e=yt(),{id:t}=e.params;He(()=>{n()});function n(){return Ee(this,null,function*(){const s=yield Hn(t);if(!s.data||!s.data.config)return;const{editCanvasConfig:o,requestGlobalConfig:d,componentList:r,globalDialog:p,globalFunction:i,globalProps:l,globalIframeEvent:a}=Je(s.data.config);De.editCanvasConfig=o,De.requestGlobalConfig=d,De.componentList=r,De.globalDialog=p,De.globalProps=l||[],De.globalIframeEvent=a||[]})}return{setStoreInfo:n}},Is={class:"kh-content-box"},Ls={key:0,class:"top go-mt-0 kh-flex-no-wrap"},Rs={class:"mt-1"},xs={key:1,class:"bottom go-mt-0"},Ms={class:"aside"},Ds=V({__name:"index",props:{title:String,showTop:{type:Boolean,default:!0},showBottom:{type:Boolean,default:!1},flex:{type:Boolean,default:!1},backIcon:{type:Boolean,default:!0},depth:{type:Number,default:1},xScroll:{type:Boolean,default:!1}},emits:["back"],setup(e,{emit:t}){return(n,s)=>{const o=wt,d=Pn;return y(),M("div",Is,[e.showTop?(y(),M("div",Ls,[g(o,{class:"kh-flex-no-wrap"},{default:w(()=>[L("span",null,Te(e.title),1),L("span",Rs,[be(n.$slots,"icon",{},void 0,!0)])]),_:3}),g(o,null,{default:w(()=>[be(n.$slots,"top-right",{},void 0,!0)]),_:3})])):de("",!0),g(d,{class:"content","view-style":"height:100%;"},{default:w(()=>[be(n.$slots,"default",{},void 0,!0)]),_:3}),e.showBottom?(y(),M("div",xs,[be(n.$slots,"bottom",{},void 0,!0)])):de("",!0),L("div",Ms,[be(n.$slots,"aside",{},void 0,!0)])])}}});const an=ue(Ds,[["__scopeId","data-v-55cc22e9"]]),rn=!!(typeof window!="undefined"&&window.document&&window.document.createElement);var mt=!1,_t=!1;try{var ut={get passive(){return mt=!0},get once(){return _t=mt=!0}};rn&&(window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,!0))}catch(e){}function Os(e,t,n,s){if(s&&typeof s!="boolean"&&!_t){var o=s.once,d=s.capture,r=n;!_t&&o&&(r=n.__once||function p(i){this.removeEventListener(t,p,d),n.call(this,i)},n.__once=r),e.addEventListener(t,r,mt?s:d)}e.addEventListener(t,n,s)}function $s(e,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function Ht(e,t,n,s){return Os(e,t,n,s),function(){$s(e,t,n,s)}}var Pt=new Date().getTime();function Hs(e){var t=new Date().getTime(),n=Math.max(0,16-(t-Pt)),s=setTimeout(e,n);return Pt=t,s}var Ps=["","webkit","moz","o","ms"],Nt=Hs,Bt=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};rn&&Ps.some(function(e){var t=Bt(e,"request");return t in window&&(Bt(e,"cancel"),Nt=function(s){return window[t](s)}),!!Nt});Function.prototype.bind.call(Function.prototype.call,[].slice);Function.prototype.bind.call(Function.prototype.call,[].slice);var ln=(e=>(e.SINGLE="single",e.DOUBLE="double",e))(ln||{}),cn=(e=>(e.THUMBNAIL="thumbnail",e.TEXT="text",e))(cn||{}),ye=(e=>(e.LEFT_SIDEBAR="leftSidebar",e.RIGHT_SIDEBAR="rightSidebar",e.LAYERS="layers",e.CHARTS="charts",e.DETAILS="details",e.Chart_TYPE="chartType",e.LAYER_TYPE="layerType",e.PERCENTAGE="percentage",e.RE_POSITION_CANVAS="rePositionCanvas",e))(ye||{});const Ns=Q(),{GO_CHART_LAYOUT_STORE:un}=Ue,Bs=Xt(un),xe=Tn({id:"useChartLayoutStore",state:()=>B({leftSidebar:!0,rightSidebar:!0,layers:!0,charts:!0,details:!1,chartType:ln.SINGLE,layerType:cn.THUMBNAIL,percentage:0,rePositionCanvas:!0},Bs),getters:{getLeftSidebar(){return this.leftSidebar},getRightSidebar(){return this.rightSidebar},getLayers(){return this.layers},getCharts(){return this.charts},getDetails(){return this.details},getChartType(){return this.chartType},getLayerType(){return this.layerType},getPercentage(){return this.percentage},getRePositionCanvas(){return this.rePositionCanvas}},actions:{setItem(e,t,n=!0){this.$patch(s=>{s[e]=t}),bn(un,this.$state),this.rePositionCanvas=!0,n&&setTimeout(()=>{Ns.computedScale()},500)},setItemUnHandle(e,t){this.$patch(n=>{n[e]=t})}}});const Us={class:"sketch-rule"},Gs={key:1,class:"fix-edit-screens-block"},dt=20,Vs=V({__name:"index",setup(e){tt(b=>({"2a716e8f":x.value,"5025728c":A.value,"029981b4":u.value}));const t=Q(),n=xe(),s=ze();let o=[0,0],d=[0,0];const r=F(),p=F(!0),i=F(),l=F(),a=F(!1),u=F("auto"),{width:c,height:f}=Pe(t.getEditCanvasConfig),m=F(0),_=F(0),S=$e({h:[],v:[]}),C=O(()=>(console.log(t.getEditCanvas.scale),t.getEditCanvas.scale)),A=O(()=>`${f.value*2}px`),N=O(()=>s.getDarkTheme?{bgColor:"#18181c",longfgColor:"#4d4d4d",shortfgColor:"#4d4d4d",fontColor:"#4d4d4d",shadowColor:"#18181c",borderColor:"#18181c",cornerActiveColor:"#18181c"}:{}),x=O(()=>s.getAppTheme),X=b=>{if(b.ctrlKey||b.metaKey){b.preventDefault();let U=C.value;if(b.wheelDelta>=0&&C.value<2){U=C.value+.05,t.setScale(U);return}b.wheelDelta<0&&C.value>.1&&(U=C.value-.05,t.setScale(U))}},$=()=>{if(!r.value)return;const b=r.value.getBoundingClientRect(),U=i.value.getBoundingClientRect();m.value=(b.left+dt-U.left)/C.value,_.value=(b.top+dt-U.top)/C.value},W=b=>{var R,D;if(b.preventDefault(),b.stopPropagation(),b.which==2)a.value=!0;else if(!((R=window.$KeyboardActive)!=null&&R.space))return;(D=document.activeElement)==null||D.blur();const U=b.pageX,z=b.pageY,h=Ht(window,"mousemove",Y=>{const G=Y.pageX-U,_e=Y.pageY-z,[Ae,Ye]=o,[st,Fe]=d;o=[Ye,G],d=[Fe,_e],r.value.scrollLeft-=Ye>Ae?Math.abs(Ye-Ae):-Math.abs(Ye-Ae),r.value.scrollTop-=Fe>st?Math.abs(Fe-st):-Math.abs(Fe-st)}),E=Ht(window,"mouseup",()=>{h(),E(),o=[0,0],d=[0,0],a.value=!1})},P=()=>{const b=document.getElementById("chart-edit-layout");return b?{height:b.clientHeight-25,width:b.clientWidth}:{width:c.value,height:f.value}},T=()=>{p.value=!1,setTimeout(()=>{p.value=!0},10)},H=()=>{l.value.getBoundingClientRect(),P()};return pe(()=>s.getDarkTheme,()=>{T()}),pe(()=>C.value,(b,U)=>{U!==b&&(n.setItemUnHandle(ye.RE_POSITION_CANVAS,!1),$(),setTimeout(()=>{H(),T()},400))}),pe(()=>a.value,b=>{u.value=b?"grab":"auto"}),He(()=>{r.value&&(r.value.addEventListener("wheel",X,{passive:!1}),H())}),zt(()=>{r.value&&r.value.removeEventListener("wheel",X)}),window.onKeySpacePressHold=b=>{a.value=b},(b,U)=>(y(),M("div",Us,[p.value?(y(),K(v(yo),{key:0,lang:"zh-CN",thick:dt,scale:C.value,width:P().width,height:P().height,startX:m.value,startY:_.value,lines:S,palette:N.value},null,8,["scale","width","height","startX","startY","lines","palette"])):de("",!0),L("div",{ref_key:"$app",ref:r,class:"edit-screens",onScroll:$},[L("div",{ref_key:"$container",ref:l,class:"edit-screen-container"},[L("div",{ref_key:"refSketchRuleBox",ref:i,class:"canvas",onMousedown:W},[L("div",{style:q({pointerEvents:a.value?"none":"auto"})},[be(b.$slots,"default",{},void 0,!0)],4)],544)],512)],544),v(s).getDarkTheme?(y(),M("div",Gs)):de("",!0)]))}});const zs=ue(Vs,[["__scopeId","data-v-6382fc9d"]]),et=(e,t)=>e?{zIndex:t+1,left:`${e.x}px`,top:`${e.y}px`}:{},Me=(e,t)=>e?{width:`${t?t*e.w:e.w}px`,height:`${t?t*e.h:e.h}px`}:{},Ks=(e,t,n,s)=>{const{w:o,h:d}=n,r=/t/.test(e),p=/b/.test(e),i=/l/.test(e),l=/r/.test(e);let a=0,u=0;return e.length===2?(a=i?0:o,u=r?0:d):((r||p)&&(a=o/2,u=r?0:d),(i||l)&&(a=i?0:o,u=Math.floor(d/2))),{left:`${a}px`,top:`${u}px`,cursor:s[t]+"-resize"}},I=Q(),{onClickOutSide:Ys}=ot(),Fs=e=>Ee(void 0,null,function*(){e.preventDefault();try{Dn();const t=e.dataTransfer.getData(An.DRAG_KEY);if(!t){xt();return}I.setEditCanvas(ce.IS_CREATE,!1);const n=Je(t);let s=yield on(n);Z(s,e.offsetX-s.attr.w/2,e.offsetY-s.attr.h/2),I.addComponentList(s,!1,!0),I.setTargetSelectChart(s.id),xt()}catch(t){Jt(),window.$message.warning("图表正在研发中, 敬请期待...")}}),Ut=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},dn=(e,t)=>{if(t){I.setTargetSelectChart(t.id);return}I.setTargetSelectChart(void 0)},Xs=(e,t)=>{var l;if(e.which==2||(l=window.$KeyboardActive)!=null&&l.space)return;dn();const n=e.offsetX,s=e.offsetY,o=e.screenX,d=e.screenY,r=I.getEditCanvas.scale;I.setMousePosition(void 0,void 0,n,s);const p=Ce.throttle(a=>{I.setTargetSelectChart(),I.setEditCanvas(ce.IS_SELECT,!0);const u=n+a.screenX-o,c=s+a.screenY-d;I.setMousePosition(u,c);const f={x1:0,y1:0,x2:0,y2:0};u>n&&c>s?(f.x1=n,f.y1=s,f.x2=Math.round(n+(a.screenX-o)/r),f.y2=Math.round(s+(a.screenY-d)/r)):u>n&&c<s?(f.x1=n,f.y1=Math.round(s-(d-a.screenY)/r),f.x2=Math.round(n+(a.screenX-o)/r),f.y2=s):u<n&&c>s?(f.x1=Math.round(n-(o-a.screenX)/r),f.y1=s,f.x2=n,f.y2=Math.round(s+(a.screenY-d)/r)):(f.x1=Math.round(n-(o-a.screenX)/r),f.y1=Math.round(s-(d-a.screenY)/r),f.x2=n,f.y2=s),I.getComponentList.forEach(m=>{if(!I.getTargetChart.selectId.includes(m.id)){const{x:_,y:S,w:C,h:A}=m.attr,N={x1:_,y1:S,x2:_+C,y2:S+A};N.x1-f.x1>=0&&N.y1-f.y1>=0&&N.x2-f.x2<=0&&N.y2-f.y2<=0&&!m.status.lock&&!m.status.hide&&I.setTargetSelectChart(m.id,!0)}})},30),i=()=>{p.cancel(),I.setEditCanvas(ce.IS_SELECT,!1),I.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",i)},hn=()=>({mouseClickHandle:(o,d)=>{var r;if(o.preventDefault(),o.stopPropagation(),!d.status.lock&&(r=window.$KeyboardActive)!=null&&r.ctrl)if(I.targetChart.selectId.includes(d.id)){const p=I.targetChart.selectId.filter(i=>i!==d.id);I.setTargetSelectChart(p)}else I.setTargetSelectChart(d.id,!0)},mousedownHandle:(o,d)=>{var S;if(o.preventDefault(),o.stopPropagation(),d.status.lock||(Ys(),o.buttons===at.LEFT&&((S=window.$KeyboardActive)!=null&&S.ctrl)))return;const r=I.getTargetChart.selectId;if(o.buttons===at.RIGHT&&r.length>1&&r.includes(d.id)||(I.setTargetSelectChart(d.id),o.buttons===at.RIGHT))return;const p=I.getEditCanvas.scale,i=I.getEditCanvasConfig.width,l=I.getEditCanvasConfig.height,a=new Map;I.getTargetChart.selectId.forEach(C=>{const A=I.fetchTargetIndex(C);if(A!==-1){const{x:N,y:x,w:X,h:$}=ht(Ce.get(I.getComponentList,A)).attr;a.set(C,{x:N,y:x,w:X,h:$})}});const u=o.screenX,c=o.screenY;let f=[];I.getTargetChart.selectId.forEach(C=>{if(!a.has(C))return;const A=I.fetchTargetIndex(C);f.push(Ce.cloneDeep(Ce.get(I.getComponentList,A)))}),I.setMousePosition(void 0,void 0,u,c);const m=Ce.throttle(C=>{I.setEditCanvas(ce.IS_DRAG,!0),I.setMousePosition(C.screenX,C.screenY);let A=(C.screenX-u)/p,N=(C.screenY-c)/p;I.getTargetChart.selectId.forEach(x=>{if(!a.has(x))return;const X=I.fetchTargetIndex(x),{x:$,y:W,w:P,h:T}=a.get(x),H=Ce.get(I.getComponentList,X);let b=Math.round($+A),U=Math.round(W+N);const z=50;b=b<-P+z?-P+z:b,U=U<-T+z?-T+z:U,b=b>i-z?i-z:b,U=U>l-z?l-z:U,H&&(H.attr=Object.assign(H.attr,{x:b,y:U}))})},20),_=()=>{try{I.setMousePosition(0,0,0,0),I.setEditCanvas(ce.IS_DRAG,!1),f.length&&(I.getTargetChart.selectId.forEach(C=>{if(!a.has(C))return;const A=I.fetchTargetIndex(C),N=Ce.get(I.getComponentList,A);f.forEach(x=>{x.id===C&&(x.attr=Object.assign(x.attr,{offsetX:N.attr.x-x.attr.x,offsetY:N.attr.y-x.attr.y}))})}),I.moveComponentList(f)),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_)}catch(C){console.log(C)}};document.addEventListener("mousemove",m),document.addEventListener("mouseup",_)},mouseenterHandle:(o,d)=>{o.preventDefault(),o.stopPropagation(),I.getEditCanvas.isSelect||I.setTargetHoverChart(d.id)},mouseleaveHandle:(o,d)=>{o.preventDefault(),o.stopPropagation(),I.setEditCanvas(ce.IS_DRAG,!1),I.setTargetHoverChart(void 0)}}),Ws=(e,t,n)=>{e.stopPropagation(),e.preventDefault(),I.setEditCanvas(ce.IS_DRAG,!0);const s=I.getEditCanvas.scale,o=n.x,d=n.y,r=n.w,p=n.h,i=e.screenX,l=e.screenY;I.setMousePosition(i,l);const a=Ce.throttle(c=>{I.setMousePosition(c.screenX,c.screenY);let f=Math.round((c.screenX-i)/s),m=Math.round((c.screenY-l)/s);const _=/t/.test(t),S=/b/.test(t),C=/l/.test(t),A=/r/.test(t),N=p+(_?-m:S?m:0),x=r+(C?-f:A?f:0);n.h=N>0?N:0,n.w=x>0?x:0,n.x=o+(C?f:0),n.y=d+(_?m:0)},50),u=()=>{I.setEditCanvas(ce.IS_DRAG,!1),I.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",u)},qs={class:"go-edit-align-line"},Qs=V({__name:"index",setup(e){tt(m=>({a25b917c:r.value}));const t=ze(),n=Q(),s=Qt(),o=$e({lineArr:["rowt","rowc","rowb","coll","colc","colr"],select:new Map,sorptioned:{x:!1,y:!1}}),d=m=>m?{left:`${m.x?m.x:0}px`,top:`${m.y?m.y:0}px`}:{},r=O(()=>t.getAppTheme),p=O(()=>s.getChartAlignRange),i=O(()=>n.getEditCanvas[ce.IS_DRAG]),l=(m,_)=>Math.abs(m-_)<=p.value,a=O(()=>n.getTargetChart.selectId),u=O(()=>Ce.get(n.getComponentList,n.fetchTargetIndex())),c=O(()=>{var m;return(m=u.value)==null?void 0:m.attr}),f=O(()=>({id:"0",attr:{w:ft(n.getEditCanvasConfig.width),h:ft(n.getEditCanvasConfig.height),x:0,y:0,offsetX:0,offsetY:0,zIndex:0}}));return pe(()=>n.getMousePosition,ie(()=>{try{if(!i.value||a.value.length!==1)return;const m=c.value.w,_=c.value.h,S=c.value.x,C=S+m/2,A=S+m,N=[S,C,A],x=c.value.y,X=x+_/2,$=x+_,W=[x,X,$];o.select.clear(),o.sorptioned.y=!1;const P=n.getComponentList.map(T=>({id:T.id,attr:T.attr}));P.push(f.value),o.lineArr.forEach(T=>{P.forEach(H=>{if(a.value[0]===H.id)return;const b=H.attr.w,U=H.attr.h,z=H.attr.x,h=z+b/2,E=z+b,R=[z,h,E],D=H.attr.y,Y=D+U/2,G=D+U,_e=[D,Y,G];T.includes("rowt")&&(l(x,D)&&(o.select.set(T,{y:D}),Z(u.value,S,D)),l(x,Y)&&(o.select.set(T,{y:Y}),Z(u.value,S,Y)),l(x,G)&&(o.select.set(T,{y:G}),Z(u.value,S,G))),T.includes("rowc")&&(l(X,D)&&(o.select.set(T,{y:D}),Z(u.value,S,D-_/2)),l(X,Y)&&(o.select.set(T,{y:Y}),Z(u.value,S,Y-_/2)),l(X,G)&&(o.select.set(T,{y:G}),Z(u.value,S,G-_/2))),T.includes("rowb")&&(l($,D)&&(o.select.set(T,{y:D}),Z(u.value,S,D-_)),l($,Y)&&(o.select.set(T,{y:Y}),Z(u.value,S,Y-_)),l($,G)&&(o.select.set(T,{y:G}),Z(u.value,S,G-_))),T.includes("coll")&&(l(S,z)&&(o.select.set(T,{x:z}),Z(u.value,z,x)),l(S,h)&&(o.select.set(T,{x:h}),Z(u.value,h,x)),l(S,E)&&(o.select.set(T,{x:E}),Z(u.value,E,x))),T.includes("colc")&&(l(C,z)&&(o.select.set(T,{x:z}),Z(u.value,z-m/2,x)),l(C,h)&&(o.select.set(T,{x:h}),Z(u.value,h-m/2,x)),l(C,E)&&(o.select.set(T,{x:E}),Z(u.value,E-m/2,x))),T.includes("colr")&&(l(A,z)&&(o.select.set(T,{x:z}),Z(u.value,z-m,x)),l(A,h)&&(o.select.set(T,{x:h}),Z(u.value,h-m,x)),l(A,E)&&(o.select.set(T,{x:E}),Z(u.value,E-m,x)))})})}catch(m){console.log(m)}},200),{deep:!0}),pe(()=>i.value,m=>{m||(o.select.clear(),o.sorptioned.y=!1)}),(m,_)=>(y(),M("div",qs,[(y(!0),M(he,null,me(o.lineArr,S=>(y(),M("div",{class:ve(["line",[S.includes("row")?"row":"col",o.select.has(S)&&"visible"]]),key:S,style:q(d(o.select.get(S)))},null,6))),128))]))}});const Zs=ue(Qs,[["__scopeId","data-v-3273fc60"]]),fn=e=>(Kt("data-v-7e4bc940"),e=e(),Yt(),e),Js=fn(()=>L("div",{class:"select-background"},null,-1)),js=fn(()=>L("div",{class:"select-border"},null,-1)),ea=[Js,js],ta=V({__name:"index",setup(e){tt(p=>({"51efad04":d.value}));const t=ze(),n=Q(),{isSelect:s,scale:o}=Pe(n.getEditCanvas),d=O(()=>t.getAppTheme),r=F();return pe(()=>n.getMousePosition,p=>{if(!s.value)return;const{startX:i,startY:l,x:a,y:u}=p,c={zIndex:bt,x:0,y:0,w:0,h:0,offsetX:0,offsetY:0};a>i&&u>l?(c.x=i,c.y=l,c.w=Math.round((a-i)/o.value),c.h=Math.round((u-l)/o.value)):a>i&&u<l?(c.x=i,c.w=Math.round((a-i)/o.value),c.h=Math.round((l-u)/o.value),c.y=l-c.h):a<i&&u>l?(c.y=l,c.w=Math.round((i-a)/o.value),c.h=Math.round((u-l)/o.value),c.x=i-c.w):(c.w=Math.round((i-a)/o.value),c.h=Math.round((l-u)/o.value),c.x=i-c.w,c.y=l-c.h),r.value=B(B({},et(c,bt)),Me(c))},{deep:!0}),(p,i)=>v(s)?(y(),M("div",{key:0,class:"go-edit-select",style:q(r.value)},ea,4)):de("",!0)}});const na=ue(ta,[["__scopeId","data-v-7e4bc940"]]),oa=V({__name:"index",setup(e){const t=Q(),{getEditCanvasConfig:n,getEditCanvas:s}=Pe(t),o=O(()=>({w:n.value.width,h:n.value.height})),d=O(()=>{const p={transform:`scale(${s.value.scale})`};return B(B({},Me(o.value)),p)}),r=O(()=>{const p=s.value.isCreate&&{"z-index":99999};return B(B({},Me(o.value)),p)});return(p,i)=>(y(),M("div",{class:"go-edit-range go-transition",style:q(d.value),onMousedown:i[0]||(i[0]=l=>v(Xs)(l,void 0))},[be(p.$slots,"default",{},void 0,!0),g(v(Zs)),g(v(na)),L("div",{class:"go-edit-range-model",style:q(r.value)},null,4)],36))}});const sa=ue(oa,[["__scopeId","data-v-624849c2"]]);const aa=e=>(Kt("data-v-7e41ae86"),e=e(),Yt(),e),ra={class:"KH-edit-bottom"},la=aa(()=>L("span",null,null,-1)),ia=V({__name:"index",setup(e){const t=ze();F(t.getAppTheme);const n=Q(),{lockScale:s,scale:o}=Pe(n.getEditCanvas);let d=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"自适应",value:0}];const r=F(""),p=c=>{if(c===0){n.computedScale();return}n.setScale(c/100)},i=F(100),l=c=>`${c}%`;function a(c){n.setScale(c/100)}const u=$e({100:""});return En(()=>{const c=(o.value*100).toFixed(0);r.value=`${c}%`,i.value=parseInt(c)}),(c,f)=>{const m=Nn,_=Bn,S=Un,C=wt;return y(),M("div",ra,[la,g(C,null,{default:w(()=>[g(_,{size:"small",class:"scale-btn",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=A=>r.value=A),disabled:v(s),onChange:p},{default:w(()=>[(y(!0),M(he,null,me(v(d),A=>(y(),K(m,{key:A.value,label:A.label,value:A.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),g(S,{class:"scale-slider",min:10,max:200,size:"small",marks:u,step:5,"format-tooltip":l,modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=A=>i.value=A),onChange:a},null,8,["marks","modelValue"])]),_:1})])}}});const ca=ue(ia,[["__scopeId","data-v-7e41ae86"]]),ua=["onMousedown"],da=V({__name:"index",props:{item:{type:Object,required:!0},hiddenPoint:{type:Boolean,required:!1}},setup(e){const t=e;tt(u=>({d0f8946a:r.value}));const n=ze(),s=Q(),o=["t","r","b","l","lt","rt","lb","rb"],d=["n","e","s","w","nw","ne","sw","se"],r=O(()=>n.getAppTheme),p=O(()=>t.item.id===s.getTargetChart.hoverId),i=O(()=>{const u=t.item.id;return s.getTargetChart.selectId.find(c=>c===u)}),l=O(()=>t.item.status.lock),a=O(()=>t.item.status.hide);return(u,c)=>(y(),M("div",{class:ve(["kh-shape-box",{lock:l.value,hide:a.value}])},[be(u.$slots,"default",{},void 0,!0),e.hiddenPoint?de("",!0):(y(!0),M(he,{key:0},me(i.value?o:[],(f,m)=>(y(),M("div",{class:ve(`shape-point ${f}`),key:m,style:q(v(Ks)(f,m,e.item.attr,d)),onMousedown:_=>v(Ws)(_,f,e.item.attr)},null,46,ua))),128)),L("div",{class:"shape-modal",style:q(v(Me)(e.item.attr))},[L("div",{class:ve(["shape-modal-select",{active:i.value}])},null,2),L("div",{class:ve(["shape-modal-change",{selectActive:i.value,hoverActive:p.value}])},null,2)],4)],2))}});const Ct=ue(da,[["__scopeId","data-v-547fc132"]]),ha={class:"go-edit-group-box"},fa=["id"],va=V({__name:"index",props:{groupData:{type:Object,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const t=Q(),{handleContextMenu:n}=ot(),{mouseenterHandle:s,mouseleaveHandle:o,mousedownHandle:d,mouseClickHandle:r}=hn(),p=(a,u,c)=>{const f=[k.GROUP,k.DELETE,k.DOWNLOAD_IMAGE],m=[k.UN_GROUP],_=S=>{const C=[];return u.forEach(A=>{S.includes(A.key)&&C.push(A)}),C};return t.getTargetChart.selectId.length>1?_(f):[..._(m),gt(),...a]},i=O(()=>{const a=t.getEditCanvasConfig.chartThemeColor;return sn[a]}),l=O(()=>t.getEditCanvasConfig.chartThemeSetting);return(a,u)=>(y(),M("div",ha,[(y(),K(v(Ct),{key:e.groupData.id,"data-id":e.groupData.id,index:e.groupIndex,item:e.groupData,hiddenPoint:!0,class:ve(v(vt)(e.groupData.styles.animations)),style:q(B(B(B(B({},v(et)(e.groupData.attr,e.groupIndex)),v(Me)(e.groupData.attr)),v(je)(e.groupData.styles)),v(pt)(e.groupData.styles))),onClick:u[0]||(u[0]=c=>v(r)(c,e.groupData)),onMousedown:u[1]||(u[1]=c=>v(d)(c,e.groupData)),onMouseenter:u[2]||(u[2]=c=>v(s)(c,e.groupData)),onMouseleave:u[3]||(u[3]=c=>v(o)(c,e.groupData)),onContextmenu:u[4]||(u[4]=c=>v(n)(c,e.groupData,p))},{default:w(()=>[L("div",{id:e.groupData.id,style:{width:"100%",height:"100%"}},[(y(!0),M(he,null,me(e.groupData.groupList,c=>(y(),K(v(Ct),{key:c.id,"data-id":c.id,index:e.groupIndex,item:c,hiddenPoint:!0,style:q(B({},v(et)(c.attr,e.groupIndex)))},{default:w(()=>[(y(),K(Se(c.chartConfig.chartKey),{class:ve(["edit-content-chart",v(vt)(c.styles.animations)]),chartConfig:c,themeSetting:l.value,themeColor:i.value,style:q(B(B(B({},v(Me)(c.attr)),v(je)(c.styles)),v(pt)(c.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","item","style"]))),128))],8,fa)]),_:1},8,["data-id","index","item","class","style"]))]))}}),Ne=Q(),pa=()=>{He(()=>{Ne.setEditCanvas(ce.EDIT_LAYOUT_DOM,document.getElementById("chart-edit-layout")),Ne.setEditCanvas(ce.EDIT_CONTENT_DOM,document.getElementById("chart-edit-content"));const e=Ne.listenerScale();zt(()=>{Ne.setEditCanvas(ce.EDIT_LAYOUT_DOM,null),Ne.setEditCanvas(ce.EDIT_CONTENT_DOM,null),e()})})};var vn={exports:{}};(function(e){(function(t){var n,s={},o={16:!1,18:!1,17:!1,91:!1},d="all",r={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},i=function(h){return p[h]||h.toUpperCase().charCodeAt(0)},l=[];for(n=1;n<20;n++)p["f"+n]=111+n;function a(h,E){for(var R=h.length;R--;)if(h[R]===E)return R;return-1}function u(h,E){if(h.length!=E.length)return!1;for(var R=0;R<h.length;R++)if(h[R]!==E[R])return!1;return!0}var c={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function f(h){for(n in o)o[n]=h[c[n]]}function m(h){var E,R,D,Y,G,_e;if(E=h.keyCode,a(l,E)==-1&&l.push(E),(E==93||E==224)&&(E=91),E in o){o[E]=!0;for(D in r)r[D]==E&&(C[D]=!0);return}if(f(h),!!C.filter.call(this,h)&&E in s){for(_e=W(),Y=0;Y<s[E].length;Y++)if(R=s[E][Y],R.scope==_e||R.scope=="all"){G=R.mods.length>0;for(D in o)(!o[D]&&a(R.mods,+D)>-1||o[D]&&a(R.mods,+D)==-1)&&(G=!1);(R.mods.length==0&&!o[16]&&!o[18]&&!o[17]&&!o[91]||G)&&R.method(h,R)===!1&&(h.preventDefault?h.preventDefault():h.returnValue=!1,h.stopPropagation&&h.stopPropagation(),h.cancelBubble&&(h.cancelBubble=!0))}}}function _(h){var E=h.keyCode,R,D=a(l,E);if(D>=0&&l.splice(D,1),(E==93||E==224)&&(E=91),E in o){o[E]=!1;for(R in r)r[R]==E&&(C[R]=!1)}}function S(){for(n in o)o[n]=!1;for(n in r)C[n]=!1}function C(h,E,R){var D,Y;D=T(h),R===void 0&&(R=E,E="all");for(var G=0;G<D.length;G++)Y=[],h=D[G].split("+"),h.length>1&&(Y=H(h),h=[h[h.length-1]]),h=h[0],h=i(h),h in s||(s[h]=[]),s[h].push({shortcut:D[G],scope:E,method:R,key:D[G],mods:Y})}function A(h,E){var R,D,Y=[],G,_e,Ae;for(R=T(h),_e=0;_e<R.length;_e++){if(D=R[_e].split("+"),D.length>1&&(Y=H(D),h=D[D.length-1]),h=i(h),E===void 0&&(E=W()),!s[h])return;for(G=0;G<s[h].length;G++)Ae=s[h][G],Ae.scope===E&&u(Ae.mods,Y)&&(s[h][G]={})}}function N(h){return typeof h=="string"&&(h=i(h)),a(l,h)!=-1}function x(){return l.slice(0)}function X(h){var E=(h.target||h.srcElement).tagName;return!(E=="INPUT"||E=="SELECT"||E=="TEXTAREA")}for(n in r)C[n]=!1;function $(h){d=h||"all"}function W(){return d||"all"}function P(h){var E,R,D;for(E in s)for(R=s[E],D=0;D<R.length;)R[D].scope===h?R.splice(D,1):D++}function T(h){var E;return h=h.replace(/\s/g,""),E=h.split(","),E[E.length-1]==""&&(E[E.length-2]+=","),E}function H(h){for(var E=h.slice(0,h.length-1),R=0;R<E.length;R++)E[R]=r[E[R]];return E}function b(h,E,R){h.addEventListener?h.addEventListener(E,R,!1):h.attachEvent&&h.attachEvent("on"+E,function(){R(window.event)})}b(document,"keydown",function(h){m(h)}),b(document,"keyup",_),b(window,"focus",S);var U=t.key;function z(){var h=t.key;return t.key=U,h}t.key=C,t.key.setScope=$,t.key.getScope=W,t.key.deleteScope=P,t.key.filter=X,t.key.isPressed=N,t.key.getPressedKeyCodes=x,t.key.noConflict=z,t.key.unbind=A,e.exports=C})(Xn)})(vn);var ga=vn.exports;const oe=Wn(ga),se=Q(),le=e=>`${Wt.CTRL}+${e}`,We=e=>`${Wt.SHIFT}+${e}`,te={[k.ARROW_UP]:le("up"),[k.ARROW_RIGHT]:le("right"),[k.ARROW_DOWN]:le("down"),[k.ARROW_LEFT]:le("left"),[k.COPY]:le("c"),[k.CUT]:le("x"),[k.PARSE]:le("v"),[k.DELETE]:"delete",[k.BACK]:le("z"),[k.FORWORD]:le(We("z")),[k.GROUP]:le("g"),[k.UN_GROUP]:le(We("g")),[k.LOCK]:le("l"),[k.UNLOCK]:le(We("l")),[k.HIDE]:le("h"),[k.SHOW]:le(We("h"))},ae=e=>`${qt.CTRL}+${e}`,qe=e=>`${qt.SHIFT}+${e}`,ne={[k.ARROW_UP]:ae("arrowup"),[k.ARROW_RIGHT]:ae("arrowright"),[k.ARROW_DOWN]:ae("arrowdown"),[k.ARROW_LEFT]:ae("arrowleft"),[k.COPY]:ae("c"),[k.CUT]:ae("x"),[k.PARSE]:ae("v"),[k.DELETE]:ae("backspace"),[k.BACK]:ae("z"),[k.FORWORD]:ae(qe("z")),[k.GROUP]:ae("g"),[k.UN_GROUP]:ae(qe("g")),[k.LOCK]:ae("l"),[k.UNLOCK]:ae(qe("l")),[k.HIDE]:ae("h"),[k.SHOW]:ae(qe("h"))},ma=[te.up,te.right,te.down,te.left,te.delete,te.copy,te.cut,te.parse,te.back,te.forward,te.group,te.unGroup,te.lock,te.unLock,te.hide,te.show],_a=[ne.up,ne.right,ne.down,ne.left,ne.delete,ne.copy,ne.cut,ne.parse,ne.back,ne.forward,ne.group,ne.unGroup,ne.lock,ne.unLock,ne.hide,ne.show],Ca=()=>{window.$KeyboardActive={ctrl:!1,space:!1},document.onkeydown=e=>{const{keyCode:t}=e;if(t==32&&e.target==document.body&&e.preventDefault(),[17,32].includes(t)&&window.$KeyboardActive)switch(At(e.keyCode),t){case 17:window.$KeyboardActive.ctrl=!0;break;case 32:window.$KeyboardActive.space=!0;break}},document.onkeyup=e=>{const{keyCode:t}=e;if(t==32&&e.target==document.body&&e.preventDefault(),[17,32].includes(t)&&window.$KeyboardActive)switch(At(),t){case 17:window.$KeyboardActive.ctrl=!1;break;case 32:window.$KeyboardActive.space=!1;break}}},ya=()=>{const t=(n,s)=>{switch(s){case n.up:oe(s,ie(()=>(se.setMove(k.ARROW_UP),!1),50));break;case n.right:oe(s,ie(()=>(se.setMove(k.ARROW_RIGHT),!1),50));break;case n.down:oe(s,ie(()=>(se.setMove(k.ARROW_DOWN),!1),50));break;case n.left:oe(s,ie(()=>(se.setMove(k.ARROW_LEFT),!1),50));break;case n.delete:oe(s,rt(()=>(se.removeComponentList(),!1),50));break;case n.copy:oe(s,rt(()=>(se.setCopy(),!1),50));break;case n.cut:oe(s,rt(()=>(se.setCut(),!1),50));break;case n.parse:oe(s,ie(()=>(se.setParse(),!1),50));break;case n.back:oe(s,ie(()=>(se.setBack(),!1),50));break;case n.forward:oe(s,ie(()=>(se.setForward(),!1),50));break;case n.group:oe(s,ie(()=>(se.setGroup(),!1),50));break;case n.unGroup:oe(s,ie(()=>(se.setUnGroup(),!1),50));break;case n.lock:oe(s,ie(()=>(se.setLock(),!1),50));break;case n.unLock:oe(s,ie(()=>(se.setUnLock(),!1),50));break;case n.hide:oe(s,ie(()=>(se.setHide(),!1),50));break;case n.show:oe(s,ie(()=>(se.setShow(),!1),50));break}};ma.forEach(n=>{t(te,n)}),_a.forEach(n=>{t(ne,n)}),Ca()},Be=Q(),wa=()=>{Be.setTargetSelectChart(void 0),kn(In(Be.getStorageInfo||[]),void 0,"json");const e=document.querySelector(".go-edit-range");if(!e){window.$message.error("导出失败！");return}const t=Be.getEditCanvas.scale;Be.setScale(1,!0),setTimeout(()=>{Ln(e,()=>{Be.setScale(t,!0)})},600)},Ea=e=>e,Sa=(e,t)=>{try{if(t.id){const n="vnodeBeforeMount"in t.events,s="vnodeMounted"in t.events;return n&&(e.events.advancedEvents.vnodeBeforeMount=t==null?void 0:t.events.vnodeBeforeMount),s&&(e.events.advancedEvents.vnodeMounted=t==null?void 0:t.events.vnodeMounted),(n||s)&&(t.events={baseEvent:{[Xe.ON_CLICK]:void 0,[Xe.ON_DBL_CLICK]:void 0,[Xe.ON_MOUSE_ENTER]:void 0,[Xe.ON_MOUSE_LEAVE]:void 0},advancedEvents:{[kt.VNODE_MOUNTED]:void 0,[kt.VNODE_BEFORE_MOUNT]:void 0}}),e}}catch(n){return e}},ke=(e,t,n=!1)=>{if(Sa(e,t),n)return ct(e,t);const s=t.option;if(!s)return ct(e,t);if(t.option=void 0,s)return we(B({},ct(e,t)),{option:s})},pn=()=>{const e=Q(),t=Zt(),n=xe();return{updateComponent:(o,d=!1,r=!1)=>Ee(void 0,null,function*(){d&&(e.componentList=[],t.clearBackStack(),t.clearForwardStack()),o.editCanvasConfig=Ea(o.editCanvasConfig),o.componentList.forEach(i=>Ee(void 0,null,function*(){const l=a=>{window.$vue.component(a.chartConfig.chartKey)||(window.$vue.component(a.chartConfig.chartKey,Kn(a.chartConfig)),window.$vue.component(a.chartConfig.conKey,Yn(a.chartConfig)))};i.isGroup?i.groupList.forEach(a=>{l(a)}):l(i)}));const p=(i,l)=>Ee(void 0,null,function*(){let a=yield on(i.chartConfig);l?l(r?ke(a,we(B({},i),{id:lt()})):ke(a,i)):r?e.addComponentList(ke(a,we(B({},i),{id:lt()})),!1,!0):e.addComponentList(ke(a,i),!1,!0)});for(const i in o)if(i===Mn.COMPONENT_LIST){let l=0;const a=o[i].length;for(const u of o[i]){let c=parseInt((parseFloat(`${++l/a}`)*100).toString());if(n.setItemUnHandle(ye.PERCENTAGE,c),u.isGroup){let f=new Fn;r?f=ke(f,we(B({},u),{id:lt()})):f=ke(f,u);const m=[];for(const _ of u.groupList)yield p(_,S=>{m.push(S)});f.groupList=m,e.addComponentList(f,!1,!0)}else yield p(u)}}else{if(i!=="editCanvasConfig"&&i!=="requestGlobalConfig")return;ke(e[i],o[i],!0)}n.setItemUnHandle(ye.PERCENTAGE,0)})}},Ta=()=>{const e=F(),{updateComponent:t}=pn();return{importUploadFileListRef:e,importBeforeUpload:o=>{console.log("output->",o),e.value=[];const d=o.type;return d!==Mt.JSON&&d!==Mt.TXT?(window.$message.warning("仅支持上传 【JSON】 格式文件，请重新上传！"),!1):!0},importCustomRequest:o=>Ee(void 0,null,function*(){const{file:d}=o;Vt(()=>{d?Rn(d).then(r=>{On({message:"请选择导入方式:",positiveText:"新增（可撤回）",negativeText:"覆盖（不可撤回）",negativeButtonProps:{type:"info",ghost:!1},onPositiveCallback:()=>Ee(void 0,null,function*(){try{r=Je(r),yield t(r,!1,!0),window.$message.success("导入成功！")}catch(p){console.log(p),window.$message.error("组件导入失败，请检查文件完整性!")}}),onNegativeCallback:()=>Ee(void 0,null,function*(){try{r=Je(r),yield t(r,!0,!0),window.$message.success("导入成功！")}catch(p){console.log(p),window.$message.error("组件导入失败，请检查文件完整性!")}})})}):window.$message.error("导入失败，请检查数据或联系管理员！")})})}},{updateComponent:ba}=pn(),gn=Q(),Gt=()=>{dispatchEvent(new CustomEvent(Qe.CHART_TO_PREVIEW,{detail:gn.getStorageInfo}))},Aa=()=>{const e=d=>{window.$message.success("正在进行更新..."),ba(d.detail,!0)},t=()=>{gn.setEditCanvas(ce.IS_CODE_EDIT,!1)},n=()=>{addEventListener("blur",Gt),addEventListener(Qe.JSON,e),addEventListener(Qe.CLOSE,ie(t,1e3))},s=()=>{removeEventListener("blur",Gt),removeEventListener(Qe.JSON,e)};return(d,r)=>{r==It.CHART_HOME_NAME&&s(),d==It.CHART_HOME_NAME&&n()}},ka=()=>{const e=yt();pe(()=>e.name,Aa(),{immediate:!0})};var Ie=(e=>(e.BUTTON="button",e.IMPORTUPLOAD="importUpload",e))(Ie||{});const Ia={class:"btn-item"},La=V({name:"chart-edit-tools",__name:"index",setup(e){const{DownloadIcon:t,ShareIcon:n,PawIcon:s,SettingsSharpIcon:o,CreateIcon:d}=Ke.ionicons5,r=Qt(),p=Q();yt(),ka();let i=null;const l=F(!1),a=F(!0),u=F(!0),{importUploadFileListRef:c,importCustomRequest:f,importBeforeUpload:m}=Ta(),_=O(()=>r.getChartToolsStatus===Lt.ASIDE),S=O(()=>r.getChartToolsStatusHide),C=O(()=>a.value&&S.value),A=O(()=>{if(!_.value)return W;const P=[];return W.map(T=>{P.unshift(T)}),P}),N=()=>{i=setTimeout(()=>{a.value&&(a.value=!1,u.value=!0)},200),setTimeout(()=>{u.value=!1},400)},x=()=>{clearTimeout(i),a.value||(a.value=!0)},X=()=>{window.$message.warning("请通过顶部【同步内容】按钮同步最新数据！"),p.setEditCanvas(ce.IS_CODE_EDIT,!0),setTimeout(()=>{const P=qn(xn.CHART_EDIT_NAME,"href");if(!P)return;const T=Qn();$(T),Zn(P,[T],void 0,!0)},2e3)},$=P=>{const T=p.getStorageInfo,H=Xt(Ue.GO_CHART_STORAGE_LIST)||[];if(H!=null&&H.length){const b=H.findIndex(U=>U.id===P);b!==-1?(H.splice(b,1,we(B({},T),{id:P})),it(Ue.GO_CHART_STORAGE_LIST,H)):(H.push(we(B({},T),{id:P})),it(Ue.GO_CHART_STORAGE_LIST,H))}else it(Ue.GO_CHART_STORAGE_LIST,[we(B({},T),{id:P})])},W=[{key:"import",type:Ie.IMPORTUPLOAD,name:"导入",icon:n},{key:"export",type:Ie.BUTTON,name:"导出",icon:t,handle:wa},{key:"edit",type:Ie.BUTTON,name:"编辑",icon:d,handle:X},{key:"setting",type:Ie.BUTTON,name:"设置",icon:o,handle:()=>{l.value=!0}}];return(P,T)=>{const H=jt,b=en,U=Gn,z=Et;return y(),M("div",{class:ve(["chart-edit-tools",[v(r).getChartToolsStatus,C.value?"isMini":"unMini"]]),onClick:T[1]||(T[1]=h=>a.value&&(a.value=!1)),onMouseenter:N,onMouseleave:x},[Le(g(H,{class:"asideLogo",size:"20px"},{default:w(()=>[g(v(s))]),_:1},512),[[Re,v(r).getChartToolsStatus===v(Lt).ASIDE&&C.value]]),(y(!0),M(he,null,me(A.value,(h,E)=>(y(),K(z,{key:h.key,disabled:!_.value||S.value&&u.value,content:h.name},{default:w(()=>[L("div",Ia,[h.type===v(Ie).BUTTON?(y(),K(b,{key:0,circle:_.value,secondary:"",onClick:h.handle},{default:w(()=>[_.value?(y(),K(H,{key:0,size:"20"},{default:w(()=>[(y(),K(Se(h.icon)))]),_:2},1024)):(y(),K(Se(h.icon),{key:1})),Le(L("span",null,Te(h.name),513),[[Re,!_.value]])]),_:2},1032,["circle","onClick"])):h.type===v(Ie).IMPORTUPLOAD?(y(),K(U,{key:1,"file-list":v(c),"onUpdate:fileList":T[0]||(T[0]=R=>Ft(c)?c.value=R:null),"show-file-list":!1,"http-request":v(f),"before-upload":v(m)},{default:w(()=>[g(b,{circle:_.value,secondary:""},{default:w(()=>[_.value?(y(),K(H,{key:0,size:"20"},{default:w(()=>[(y(),K(Se(h.icon)))]),_:2},1024)):(y(),K(Se(h.icon),{key:1})),Le(L("span",null,Te(h.name),513),[[Re,!_.value]])]),_:2},1032,["circle"])]),_:2},1032,["file-list","http-request","before-upload"])):de("",!0)])]),_:2},1032,["disabled","content"]))),128))],34)}}});const Ra=ue(La,[["__scopeId","data-v-808c3749"]]),xa=V({name:"ContentEdit",__name:"index",setup(e){const t=Q();Sn("rootConfig",t.getStorageInfo);const{handleContextMenu:n}=ot();pa();const{mouseenterHandle:s,mouseleaveHandle:o,mousedownHandle:d,mouseClickHandle:r}=hn(),p=(u,c,f)=>{const m=[k.GROUP,k.DELETE,k.DOWNLOAD_IMAGE],_=u;if(t.getTargetChart.selectId.length>1){const S=[];return c.forEach(C=>{m.includes(C.key)&&S.push(C)}),S}return _},i=O(()=>t.getEditCanvasConfig.chartThemeSetting),l=O(()=>{const u=t.getEditCanvasConfig.chartThemeColor;return sn[u]});O(()=>t.getEditCanvasConfig.filterShow);const a=O(()=>{const u=t.getEditCanvasConfig.background,c=t.getEditCanvasConfig.backgroundImage,_=t.getEditCanvasConfig.selectColor?{background:u||void 0}:{background:`url(${c}) no-repeat center center / cover !important`};return we(B({},_),{width:"inherit",height:"inherit"})});return He(()=>{ya()}),(u,c)=>(y(),K(v(an),{id:"chart-edit-layout",flex:!0,showTop:!1,showBottom:!0,onMousedown:v(dn),onDrop:v(Fs),onDragover:Ve(v(Ut),["prevent"]),onDragenter:Ve(v(Ut),["prevent"])},{aside:w(()=>[g(v(Ra))]),bottom:w(()=>[g(v(ca))]),default:w(()=>[g(v(zs),null,{default:w(()=>[L("div",{id:"chart-edit-content",onContextmenu:c[0]||(c[0]=(...f)=>v(n)&&v(n)(...f))},[g(v(sa),null,{default:w(()=>[L("div",{style:q(B(B({},v(je)(v(t).getEditCanvasConfig)),a.value))},[(y(!0),M(he,null,me(v(t).getComponentList,(f,m)=>(y(),M("div",{key:f.id},[f.isGroup?(y(),K(v(va),{key:0,groupData:f,groupIndex:m},null,8,["groupData","groupIndex"])):(y(),K(v(Ct),{key:1,"data-id":f.id,index:m,style:q(v(et)(f.attr,m)),item:f,onClick:_=>v(r)(_,f),onMousedown:_=>v(d)(_,f),onMouseenter:_=>v(s)(_,f),onMouseleave:_=>v(o)(_,f),onContextmenu:_=>v(n)(_,f,p)},{default:w(()=>[(y(),K(Se(f.chartConfig.chartKey),{class:ve(["edit-content-chart",v(vt)(f.styles.animations)]),chartConfig:f,themeSetting:i.value,themeColor:l.value,style:q(B(B(B({},v(Me)(f.attr)),v(je)(f.styles)),v(pt)(f.styles))),id:f.id},null,8,["class","chartConfig","themeSetting","themeColor","style","id"]))]),_:2},1032,["data-id","index","style","item","onClick","onMousedown","onMouseenter","onMouseleave","onContextmenu"]))]))),128))],4)]),_:1})],32)]),_:1})]),_:1},8,["onMousedown","onDrop","onDragover","onDragenter"]))}});const Ma=ue(xa,[["__scopeId","data-v-8762826f"]]);var ge=(e=>(e.PAGE_SETTING="pageSetting",e.CHART_SETTING="chartSetting",e.CHART_ANIMATION="chartAnimation",e.CHART_DATA="chartData",e.CHART_EVENT="chartEvent",e.CHART_STYLE="chartStyle",e))(ge||{});const Da={class:"chart-layout"},Oa={class:"layout-content"},$a=V({__name:"index",setup(e){const t=ee(()=>j(()=>import("./index-a7366f70.js"),["static/js/index-a7366f70.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-tooltip-4ed993c7.js","static/js/index-e314158c.js","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/css/index-52164c42.css","static/css/el-button-46bfe638.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-image-viewer-6764fba4.css","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/css/index-e77de421.css","static/css/el-popper-b17b6765.css","static/css/el-switch-4d96cdcc.css","static/css/el-input-9bb615ea.css","static/css/el-color-picker-242b5ded.css","static/css/el-progress-c7c1f9fc.css","static/css/el-icon-b1770749.css","static/css/el-form-item-c10bf51d.css","static/css/el-input-number-e34b49f4.css"])),n=ee(()=>j(()=>import("./index-92094bac.js"),["static/js/index-92094bac.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-collapse-item-4ed993c7.js","static/js/useTargetData.hook-7e83673b.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/css/index-e8fc23fd.css","static/css/el-collapse-2c620dc2.css","static/css/el-button-46bfe638.css"])),s=ee(()=>j(()=>import("./index-cf7b4903.js"),["static/js/index-cf7b4903.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-collapse-item-4ed993c7.js","static/js/SettingItemBox-ce5066ee.js","static/css/SettingItemBox-d3868362.css","static/css/el-space-417b6673.css","static/js/el-tooltip-4ed993c7.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/vuedraggable-26823587.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/SettingItem-0e9c370f.js","static/css/SettingItem-a3b6dbf3.css","static/js/useTargetData.hook-7e83673b.js","static/css/index-5a6cd4bd.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-popper-b17b6765.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/el-color-picker-242b5ded.css","static/css/el-button-46bfe638.css","static/css/el-switch-4d96cdcc.css","static/css/el-divider-f4d3946e.css","static/css/GroupList-249085b5.css","static/css/el-collapse-2c620dc2.css","static/css/el-slider-a44f7f99.css","static/css/el-icon-b1770749.css","static/css/el-image-viewer-6764fba4.css"])),o=ee(()=>j(()=>import("./index-fb5ca620.js"),["static/js/index-fb5ca620.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/js/el-collapse-item-4ed993c7.js","static/js/useTargetData.hook-7e83673b.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/hCode-f0cdea69.js","static/js/highlight-87778b4e.js","static/css/hCode-559a6f5c.css","static/js/EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js","static/js/editorWorker-7e4b3ef6.js","static/css/EditorWorker-386f89c2.css","static/js/EventTrigger-6c8c8146.js","static/js/type-ae7fe4c5.js","static/css/EventTrigger-27ddd03f.css","static/css/el-icon-b1770749.css","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-popper-b17b6765.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/el-button-46bfe638.css","static/js/Close-095524a6.js","static/css/index-2185109d.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-collapse-2c620dc2.css","static/css/el-space-417b6673.css","static/css/el-card-208b2445.css","static/css/el-main-f5c6a819.css","static/css/el-empty-743b38f5.css"])),d=ee(()=>j(()=>import("./index-e2bd0f17.js"),["static/js/index-e2bd0f17.js","static/js/vueRepl-a238c739.js","static/js/vue-65382a1b.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/xgplayerVue-c27b6911.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/el-collapse-item-4ed993c7.js","static/js/SettingItemBox-ce5066ee.js","static/css/SettingItemBox-d3868362.css","static/css/el-space-417b6673.css","static/js/el-tooltip-4ed993c7.js","static/js/vuedraggable-26823587.js","static/js/useTargetData.hook-7e83673b.js","static/js/index.d-4993f78d.js","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-popper-b17b6765.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/SettingItem-a3b6dbf3.css","static/css/el-input-number-e34b49f4.css","static/css/el-color-picker-242b5ded.css","static/css/el-button-46bfe638.css","static/css/el-switch-4d96cdcc.css","static/css/el-divider-f4d3946e.css","static/css/GroupList-249085b5.css","static/css/el-collapse-2c620dc2.css","static/css/el-slider-a44f7f99.css","static/css/el-icon-b1770749.css","static/css/el-image-viewer-6764fba4.css"])),r=ee(()=>j(()=>import("./index-bced98d2.js"),["static/js/index-bced98d2.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-collapse-transition-4ed993c7.js","static/js/el-tooltip-4ed993c7.js","static/css/index-09d839e4.css","static/css/el-divider-f4d3946e.css","static/css/el-input-9bb615ea.css","static/css/el-color-picker-242b5ded.css","static/css/el-button-46bfe638.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-popper-b17b6765.css","static/css/el-icon-b1770749.css","static/css/el-input-number-e34b49f4.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css"])),{getRightSidebar:p}=Pe(xe()),{setItem:i}=xe(),l=Q(),a=F(ge.PAGE_SETTING),u=[{key:ge.PAGE_SETTING,title:"页面配置",render:t}],c=()=>{i(ye.DETAILS,!0)},f=()=>{i(ye.DETAILS,!1)},m=O(()=>{if(l.getTargetChart.selectId.length!==1){a.value=ge.PAGE_SETTING;return}const A=Ce.get(l.componentList,l.fetchTargetIndex());return console.log("output->",l.fetchTargetIndex()),A!=null&&A.isGroup,a.value=ge.CHART_SETTING,A});pe(p,C=>{C?c():f()});const S=[...[{key:ge.CHART_SETTING,title:"定制",render:s},{key:ge.CHART_STYLE,title:"样式",render:r},{key:ge.CHART_ANIMATION,title:"动画",render:n}],{key:ge.CHART_DATA,title:"数据",render:d},{key:ge.CHART_EVENT,title:"事件",render:o}];return(C,A)=>{const N=wt,x=tn,X=nn;return y(),M("div",Da,[L("div",Oa,[g(v(Ma))]),L("div",{class:"layout-aside",style:q({width:v(p)?null:"0px"})},[g(v(an),{class:"kh-content-layers",showTop:!1},{default:w(()=>[m.value?de("",!0):(y(),K(X,{key:0,modelValue:a.value,"onUpdate:modelValue":A[0]||(A[0]=$=>a.value=$),class:"demo-tabs"},{default:w(()=>[(y(),M(he,null,me(u,$=>g(x,{label:$.title,name:$.key},{label:w(()=>[g(N,null,{default:w(()=>[L("span",null,Te($.title),1)]),_:2},1024)]),default:w(()=>[(y(),K(Se($.render)))]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])),m.value?(y(),K(X,{key:1,modelValue:a.value,"onUpdate:modelValue":A[1]||(A[1]=$=>a.value=$),class:"demo-tabs"},{default:w(()=>[(y(),M(he,null,me(S,$=>g(x,{label:$.title,name:$.key},{label:w(()=>[g(N,null,{default:w(()=>[L("span",null,Te($.title),1)]),_:2},1024)]),default:w(()=>[(y(),K(Se($.render)))]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])):de("",!0)]),_:1})],4)])}}});const Ha=ue($a,[["__scopeId","data-v-2218bae8"]]),Pa=V({__name:"index",setup(e){const{LayersIcon:t,BarChartIcon:n,PrismIcon:s,HomeIcon:o,ArrowBackIcon:d,ArrowForwardIcon:r}=Ke.ionicons5,p=ee(()=>j(()=>import("./index-cf34b6f0.js"),["static/js/index-cf34b6f0.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/vuedraggable-26823587.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/el-collapse-transition-4ed993c7.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-0bc0b2e5.css","static/css/el-empty-743b38f5.css","static/css/el-image-viewer-6764fba4.css","static/css/el-icon-b1770749.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-popper-b17b6765.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css","static/css/el-button-46bfe638.css"])),i=ee(()=>j(()=>import("./index-457435df.js"),["static/js/index-457435df.js","static/js/vue-65382a1b.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-980de45e.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-popper-b17b6765.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css"])),l=ee(()=>j(()=>import("./index-81fab826.js"),["static/js/index-81fab826.js","static/js/vueRepl-a238c739.js","static/js/vue-65382a1b.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/xgplayerVue-c27b6911.js","static/css/index-bc362552.css","static/js/el-collapse-item-4ed993c7.js","static/js/hCode-f0cdea69.js","static/js/highlight-87778b4e.js","static/css/hCode-559a6f5c.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-71f25ba5.css","static/css/el-collapse-2c620dc2.css","static/css/el-popover-bac8718b.css","static/css/el-popper-b17b6765.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css","static/css/el-empty-743b38f5.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css"])),a=ee(()=>j(()=>import("./index-441d7c83.js"),["static/js/index-441d7c83.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/js/el-tooltip-4ed993c7.js","static/js/el-collapse-transition-4ed993c7.js","static/js/el-collapse-item-4ed993c7.js","static/js/SettingItemBox-ce5066ee.js","static/css/SettingItemBox-d3868362.css","static/css/el-space-417b6673.css","static/js/vuedraggable-26823587.js","static/js/useTargetData.hook-7e83673b.js","static/js/index.d-4993f78d.js","static/js/pondIndex.vue_vue_type_style_index_0_scoped_9baf3e9a_lang-63a29e5a.js","static/js/SettingItem-0e9c370f.js","static/css/SettingItem-a3b6dbf3.css","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js","static/js/editorWorker-7e4b3ef6.js","static/css/EditorWorker-386f89c2.css","static/js/index-bf1882c4.js","static/css/pondIndex-990d0338.css","static/css/el-card-208b2445.css","static/css/el-popper-b17b6765.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-virtual-list-54336272.css","static/css/el-select-v2-ed199d64.css","static/css/el-input-number-e34b49f4.css","static/css/el-color-picker-242b5ded.css","static/css/el-switch-4d96cdcc.css","static/css/el-divider-f4d3946e.css","static/css/GroupList-249085b5.css","static/css/el-collapse-2c620dc2.css","static/css/el-slider-a44f7f99.css","static/css/el-image-viewer-6764fba4.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-select-0b32213c.css","static/css/el-radio-62e14d58.css","static/css/el-table-5bb7fb37.css","static/css/el-checkbox-e117c7b0.css","static/css/el-table-column-d409cc84.css","static/js/pondIndex-4a14e692.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-ed8b23a7.css","static/css/el-empty-743b38f5.css","static/css/el-main-f5c6a819.css","static/css/el-progress-c7c1f9fc.css"])),u=ee(()=>j(()=>import("./index-2bb2740c.js"),["static/js/index-2bb2740c.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-collapse-item-4ed993c7.js","static/js/hCode-f0cdea69.js","static/js/highlight-87778b4e.js","static/css/hCode-559a6f5c.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/js/EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js","static/js/editorWorker-7e4b3ef6.js","static/css/EditorWorker-386f89c2.css","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-f6d7b259.css","static/css/el-collapse-2c620dc2.css","static/css/el-card-208b2445.css","static/css/el-popover-bac8718b.css","static/css/el-popper-b17b6765.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css","static/css/el-empty-743b38f5.css","static/css/el-main-f5c6a819.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-form-item-c10bf51d.css","static/css/el-tag-2fca7a82.css","static/css/el-input-9bb615ea.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css"])),c=ee(()=>j(()=>import("./index-65df4662.js"),["static/js/index-65df4662.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/el-collapse-item-4ed993c7.js","static/js/hCode-f0cdea69.js","static/js/highlight-87778b4e.js","static/css/hCode-559a6f5c.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/js/index-ed5dbb37.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-508a2b1a.css","static/css/el-collapse-2c620dc2.css","static/css/el-popover-bac8718b.css","static/css/el-popper-b17b6765.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css","static/css/el-empty-743b38f5.css","static/css/el-main-f5c6a819.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css"])),f=ee(()=>j(()=>import("./index-df2be19f.js"),["static/js/index-df2be19f.js","static/js/vueRepl-a238c739.js","static/js/vue-65382a1b.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/xgplayerVue-c27b6911.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/type-ae7fe4c5.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-65d02c82.css","static/css/el-icon-b1770749.css","static/css/el-empty-743b38f5.css","static/css/el-button-46bfe638.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-popper-b17b6765.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css"])),m=ee(()=>j(()=>import("./index-0bfdab97.js"),["static/js/index-0bfdab97.js","static/js/EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/editorWorker-7e4b3ef6.js","static/css/EditorWorker-386f89c2.css"])),_=ee(()=>j(()=>import("./index-1fe09da7.js"),["static/js/index-1fe09da7.js","static/js/vueRepl-a238c739.js","static/js/vue-65382a1b.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/xgplayerVue-c27b6911.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/type-ae7fe4c5.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-6bb190b3.css","static/css/el-icon-b1770749.css","static/css/el-empty-743b38f5.css","static/css/el-button-46bfe638.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-popper-b17b6765.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css"])),S=xe(),{setItem:C}=S,A=F("1"),N=O(()=>{const{getLeftSidebar:x}=S;return{width:x?null:"60px"}});return pe(A,x=>{x?C(ye.LEFT_SIDEBAR,!0):C(ye.LEFT_SIDEBAR,!1)}),(x,X)=>{const $=jt,W=Et,P=tn,T=nn;return y(),M("div",{class:"LeftSideBar",style:q(v(N))},[g(T,{modelValue:v(A),"onUpdate:modelValue":X[0]||(X[0]=H=>Ft(A)?A.value=H:null),class:"LeftTabs","tab-position":"left",style:{height:"100%"}},{default:w(()=>[g(P,{label:"组件",name:"1",lazy:""},{label:w(()=>[g(W,{content:"组件",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v(n))]),_:1})]),_:1})]),default:w(()=>[g(v(i))]),_:1}),g(P,{label:"图层",name:"2",lazy:""},{label:w(()=>[g(W,{content:"图层",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v(t))]),_:1})]),_:1})]),default:w(()=>[g(v(p))]),_:1}),g(P,{label:"全局变量",name:"3",lazy:""},{label:w(()=>[g(W,{content:"全局变量",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v(rs))]),_:1})]),_:1})]),default:w(()=>[g(v(l))]),_:1}),g(P,{label:"公共接口",name:"4",lazy:""},{label:w(()=>[g(W,{content:"公共接口",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v(Fo))]),_:1})]),_:1})]),default:w(()=>[g(v(a))]),_:1}),g(P,{label:"公共方法",name:"5",lazy:""},{label:w(()=>[g(W,{content:"公共方法",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v(Ho))]),_:1})]),_:1})]),default:w(()=>[g(v(u))]),_:1}),g(P,{label:"弹窗",name:"6",lazy:""},{label:w(()=>[g(W,{content:"弹窗",placement:"right"},{default:w(()=>[g($,{size:"20px"},{default:w(()=>[g(v($n))]),_:1})]),_:1})]),default:w(()=>[g(v(c))]),_:1}),g(P,{label:"组件传参",name:"7",lazy:""},{label:w(()=>[g(W,{content:"组件传参",placement:"right"},{default:w(()=>[g($,{size:"21px"},{default:w(()=>[g(v(Ro))]),_:1})]),_:1})]),default:w(()=>[g(v(f))]),_:1}),g(P,{label:"Iframe通讯触发事件定义",name:"8",lazy:""},{label:w(()=>[g(W,{content:"Iframe通讯触发事件定义",placement:"right"},{default:w(()=>[g($,{size:"21px"},{default:w(()=>[g(v(Go))]),_:1})]),_:1})]),default:w(()=>[g(v(_))]),_:1}),g(P,{label:"公共样式",name:"9",lazy:""},{label:w(()=>[g(W,{content:"公共样式",placement:"right"},{default:w(()=>[g($,{size:"21px"},{default:w(()=>[g(v(To))]),_:1})]),_:1})]),default:w(()=>[g(v(m))]),_:1})]),_:1},8,["modelValue"])],4)}}});const Na=ue(Pa,[["__scopeId","data-v-9bcddb2c"]]),Ba=V({__name:"headerLeftBtn",setup(e){const{LayersIcon:t,BarChartIcon:n,PrismIcon:s,HomeIcon:o,ArrowBackIcon:d,ArrowForwardIcon:r}=Ke.ionicons5,{setItem:p}=xe(),{getLeftSidebar:i,getRightSidebar:l}=Pe(xe());Q();const a=Zt(),u=$e([{key:ye.LEFT_SIDEBAR,select:i,title:"切换左侧栏",icon:re(Qo)},{key:ye.RIGHT_SIDEBAR,select:l,title:"切换右侧栏",icon:re(es)}]),c=O(()=>a.getBackStack.length>1),f=O(()=>a.getForwardStack.length>0);$e([{key:Rt.BACK_STACK,select:c,title:"后退",icon:re(d)},{key:Rt.FORWARD_STACK,select:f,title:"前进",icon:re(r)}]);const m=_=>{p(_.key,!_.select)};return(_,S)=>{const C=en,A=Et;return y(),M("div",null,[(y(!0),M(he,null,me(u,N=>(y(),K(A,{effect:"dark",content:N.title},{default:w(()=>[g(C,{onClick:x=>m(N),type:N.select?"primary":""},{default:w(()=>[(y(),K(Se(N.icon)))]),_:2},1032,["onClick","type"])]),_:2},1032,["content"]))),256))])}}});const Ua=ue(Ba,[["__scopeId","data-v-6bd289ae"]]);const Ga=V({__name:"index",setup(e){ks();const t=ee(()=>j(()=>import("./index-0e73f6cc.js"),["static/js/index-0e73f6cc.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/css/index-337a5440.css","static/css/el-main-f5c6a819.css"])),n=ee(()=>j(()=>import("./headerTitle-f1b181b0.js"),["static/js/headerTitle-f1b181b0.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/css/el-space-417b6673.css","static/css/el-input-9bb615ea.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css"])),s=ee(()=>j(()=>import("./headerRightBtn-af69384b.js"),["static/js/headerRightBtn-af69384b.js","static/js/index-4e626338.js","static/js/vue-65382a1b.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/js/lodash-f91682a1.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/css/index-bc362552.css","static/js/index-806da9dd.js","static/css/index-a29e27ad.css","static/css/el-overlay-1d67a486.css","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/css/headerRightBtn-2866649c.css","static/css/el-space-417b6673.css","static/css/el-button-46bfe638.css"]));ee(()=>j(()=>import("./index-457435df.js"),["static/js/index-457435df.js","static/js/vue-65382a1b.js","static/js/xgplayerVue-c27b6911.js","static/js/vueRepl-a238c739.js","static/js/lodash-f91682a1.js","static/js/index-4e626338.js","static/js/elementPlus-07602b2b.js","static/js/vuema-115cb50e.js","static/css/index-bc362552.css","static/js/chartEditStore-8641b951.js","static/js/index-55ccac47.js","static/js/echarts-676dbcd6.js","static/js/plugin-68db7aa1.js","static/js/icon-24f36b03.js","static/js/Close-095524a6.js","static/js/views-99f1c264.js","static/js/axios-ba46900f.js","static/js/axios-e76ab20a.js","static/js/el-tooltip-4ed993c7.js","static/js/style-2d240cf8.js","static/js/fileTypeEnum-eae25d97.js","static/css/fileTypeEnum-6cd6b48a.css","static/css/index-980de45e.css","static/css/el-scrollbar-df5aa9a0.css","static/css/el-main-f5c6a819.css","static/css/el-tab-pane-eecd8b5a.css","static/css/el-space-417b6673.css","static/css/el-slider-a44f7f99.css","static/css/el-input-number-e34b49f4.css","static/css/el-input-9bb615ea.css","static/css/el-popper-b17b6765.css","static/css/el-tag-2fca7a82.css","static/css/el-select-0b32213c.css","static/css/el-progress-c7c1f9fc.css","static/css/el-button-46bfe638.css","static/css/el-icon-b1770749.css"]));const o=Q(),{menuOptions:d,onClickOutSide:r,mousePosition:p,handleMenuSelect:i}=ot();return(l,a)=>{const u=zn,c=Vn,f=fs;return y(),M(he,null,[g(c,{class:"kh-chart",direction:"vertical"},{default:w(()=>[g(v(t),null,{left:w(()=>[g(Ua)]),center:w(()=>[g(v(n))]),right:w(()=>[g(v(s))]),_:1}),g(u,{style:{padding:"0",overflow:"hidden",display:"flex"}},{default:w(()=>[g(Na),g(Ha)]),_:1})]),_:1}),Le(g(f,{axis:v(p),menus:v(d),"remove-contextmenu":v(r),onSelect:v(i)},null,8,["axis","menus","remove-contextmenu","onSelect"]),[[Re,v(o).getRightMenuShow]])],64)}}});const Va=ue(Ga,[["__scopeId","data-v-539fb96a"]]),_r=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"}));export{ye as C,Go as F,cn as L,rs as V,an as a,ot as b,gt as d,_r as i,xe as u};
