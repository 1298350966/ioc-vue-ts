var q=Object.defineProperty,E=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var I=(o,t,n)=>t in o?q(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,b=(o,t)=>{for(var n in t||(t={}))G.call(t,n)&&I(o,n,t[n]);if(x)for(var n of x(t))N.call(t,n)&&I(o,n,t[n]);return o},w=(o,t)=>E(o,F(t));import{v as L}from"./vueTianditu-951bb72c.js";import{d as S,o as r,s as m,a3 as W,u as e,x as l,p as $,a7 as j,g as h,r as O,N as D,c,w as R,F as y,q as P}from"./vue-65382a1b.js";import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-ac243b66.js";import{I as Z}from"./InfoWindow-4d917a69.js";import{d as M}from"./config-1dd32ed9.js";import{u as A}from"./useTmapHooks-5b18dea0.js";import"./lodash-f91682a1.js";import"./vuedraggable-26823587.js";import"./useAddEvent.kooks-e46e3810.js";import"./index-4e626338.js";import"./elementPlus-07602b2b.js";import"./vuema-115cb50e.js";import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./axios-ba46900f.js";import"./axios-e76ab20a.js";import"./useEvent.hook-afeb4a8c.js";import"./echarts-676dbcd6.js";import"./index-55ccac47.js";const H=S({__name:"maskPolygon",props:{maskConfig:{}},setup(o){const t=o;let n=null;function g(a){n=a,k()}const d=a=>a.map(i=>{const[f,C]=i;return new T.LngLat(f,C)});function k(){let a=t.maskConfig.polygonOptions.path.map(i=>d(i));n.setLngLats(a)}return(a,i)=>a.maskConfig.enable?(r(),m(e(L.TdtPolygon),W({key:0},a.maskConfig.polygonOptions,{onInit:g}),null,16)):l("",!0)}}),J={class:"mapDiv"},dt=S({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(o){const t=o,n=A();$("mapIns",n);let{mapKey:g,mapStyleKey:d,mapLng:k,mapLat:a,mapZindex:i,mapStyleKeyCustom:f}=j(t.chartConfig.option.mapOptions);const C=h(()=>[k.value,a.value]),z=h(()=>({v:"4.0",tk:g.value}));O();const v=O(!0),B=h(()=>t.chartConfig.option.controlGroupList.map(s=>s.type==="MapType"?{name:s.type,position:s.options.position,mapTypes:s.options.mapTypes.map(_=>{let p=M.findIndex(u=>u.layer===_);return v.value=!1,D(()=>{v.value=!0}),p>0?M[p]:{}})}:w(b({},s.options),{name:s.type})));function K(s){n.setMap(s)}return(s,_)=>(r(),c("div",J,[v.value?(r(),m(e(L.TdtMap),{key:0,center:e(C),zoom:e(i),loadConfig:e(z),"map-style":e(d),controls:e(B),onInit:K},{default:R(()=>[(r(!0),c(y,null,P(o.chartConfig.option.coverGroupList,(p,u)=>(r(),c(y,{key:u},[p.visible?(r(),m(e(V),{key:0,config:p},null,8,["config"])):l("",!0)],64))),128)),(r(!0),c(y,null,P(o.chartConfig.option.InfoWindowList,(p,u)=>(r(),c(y,{key:u},[p.visible?(r(),m(e(Z),{key:0,config:p},null,8,["config"])):l("",!0)],64))),128)),e(f)?(r(),m(e(L.TdtTilelayer),{key:0,url:e(f),zIndex:1},null,8,["url"])):l("",!0),t.chartConfig.option.mask.enable?(r(),m(H,{key:1,"mask-config":o.chartConfig.option.mask},null,8,["mask-config"])):l("",!0)]),_:1},8,["center","zoom","loadConfig","map-style","controls"])):l("",!0)]))}});export{dt as default};
