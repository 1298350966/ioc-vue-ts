import{_ as O}from"./index-806da9dd.js";import"./index-4e626338.js";/* empty css                     *//* empty css                     *//* empty css                *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                  */import{u as A}from"./chartEditStore-8641b951.js";import{l as b}from"./lodash-f91682a1.js";import{x as G,k as H,z as J,a3 as K,a2 as M,p as P,y as Q,i as W}from"./elementPlus-07602b2b.js";import{d as X,r as f,f as Y,o as m,s as g,w as l,a as e,a6 as y,u as r,h,c as k,F as E,q as x,x as Z,a0 as ee}from"./vue-65382a1b.js";/* empty css                   */import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";import"./index-55ccac47.js";import"./echarts-676dbcd6.js";import"./plugin-68db7aa1.js";const le={class:"kh-flex-between",style:{width:"100%"}},ae={class:"kh-flex-between",style:{width:"100%"}},xe=X({__name:"editVar",props:{data:{}},emits:["update:data"],setup(w,{expose:U,emit:C}){const c=w;A();const F=()=>({key:"",name:"",type:"string",value:""}),V=f(),s=f(!1);let o=f(b.cloneDeep(c.data));const D=[{label:"字符串",value:"string"},{label:"数字",value:"number"},{label:"数组",value:"array"},{label:"对象",value:"object"},{label:"布尔值",value:"boolean"}],q=p=>{s.value=!0},v=()=>{s.value=!1},B=()=>{V.value.validate(p=>{if(p)console.log(o),C("update:data",r(o)),v();else return!1})},$=()=>{r(o).entitys.push(F())},I=p=>{r(o).entitys.splice(p,1)};return Y(()=>c.data,()=>{o.value=b.cloneDeep(c.data)}),U({openDialog:q,closeDialog:v}),(p,d)=>{const i=G,_=H,u=J,N=K,S=M,R=P,T=Q,j=W,z=O;return m(),g(z,{"custom-class":"FunEditorDialog",modelValue:r(s),"onUpdate:modelValue":d[1]||(d[1]=a=>ee(s)?s.value=a:null),title:"修改变量"},{footer:l(()=>[e(_,{type:"primary",onClick:B},{default:l(()=>[y("修改")]),_:1})]),default:l(()=>[e(j,{height:"560px","wrap-style":"padding:20px;"},{default:l(()=>[r(o)?(m(),g(T,{key:0,model:r(o),ref_key:"ruleFormRef",ref:V,"label-width":"100px"},{default:l(()=>[e(u,{label:"数据名称",prop:"name",rules:[{required:!0,message:"请输入数据名称",trigger:"change"}]},{default:l(()=>[h("div",le,[e(i,{class:"flex-1",modelValue:r(o).name,"onUpdate:modelValue":d[0]||(d[0]=a=>r(o).name=a),placeholder:"请输入数据名称"},null,8,["modelValue"]),e(_,{style:{"margin-left":"10px"},onClick:$,type:"primary"},{default:l(()=>[y(" 添加 ")]),_:1})])]),_:1}),(m(!0),k(E,null,x(r(o).entitys,(a,n)=>(m(),g(R,{key:n,shadow:"never",style:{"margin-bottom":"15px"}},{default:l(()=>[e(u,{label:"对象名称",prop:`entitys.${n}.name`,rules:[{required:!0,message:"请输入实体名称",trigger:"change"}]},{default:l(()=>[h("div",ae,[e(i,{class:"flex-1",modelValue:a.name,"onUpdate:modelValue":t=>a.name=t,placeholder:"请输入实体名称"},null,8,["modelValue","onUpdate:modelValue"]),e(_,{style:{"margin-left":"10px"},onClick:t=>I(n),type:"danger"},{default:l(()=>[y(" 删除 ")]),_:2},1032,["onClick"])])]),_:2},1032,["prop"]),e(u,{label:"字段名称",prop:`entitys.${n}.key`,rules:[{required:!0,message:"请输入实体字段",trigger:"change"}]},{default:l(()=>[e(i,{modelValue:a.key,"onUpdate:modelValue":t=>a.key=t,placeholder:"请输入实体字段"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"字段类型",prop:`entitys.${n}.type`,rules:[{required:!0,message:"请输入字段类型",trigger:"change"}]},{default:l(()=>[e(S,{modelValue:a.type,"onUpdate:modelValue":t=>a.type=t},{default:l(()=>[(m(),k(E,null,x(D,(t,L)=>e(N,{key:L,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"默认数据",prop:`entitys.${n}.value`},{default:l(()=>[e(i,{modelValue:a.value,"onUpdate:modelValue":t=>a.value=t,placeholder:"请输入默认数据"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024))),128))]),_:1},8,["model"])):Z("",!0)]),_:1})]),_:1},8,["modelValue"])}}});export{xe as default};
