import{ax as _}from"./index-4e626338.js";import{P as v}from"./xgplayer-65a6fa30.js";import{k as x}from"./xgplayerFlv-70569a71.js";import{H as L}from"./xgplayerHls-3c63c2d4.js";import{d as f,r as P,f as H,A as k,$ as B,o as p,c as d,h as w,N as b,g as C,a as V,u as z}from"./vue-65382a1b.js";import"./elementPlus-07602b2b.js";import"./vuema-115cb50e.js";import"./lodash-f91682a1.js";import"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";var u=(o=>(o.MP4="MP4",o.HLS="HLS",o.FLV="FLV",o))(u||{});const F=["id"],M=f({__name:"index",props:{config:{default:{id:"mse",url:""}}},emits:["player"],setup(o,{emit:a}){const t=o;let n=null;const e=P(null);function i(){b(()=>{let s=e.value.offsetHeight,l=e.value.offsetWidth;if(t.config.url&&t.config.url!==""){let r;t.config.type==u.FLV?r=[x]:t.config.type==u.HLS?r=[L]:r=[],n=new v(Object.assign({lang:"zh",height:s,width:l,plugins:r},t.config)),a("player",n)}})}function c(){document.getElementById(t.config.id).style.height=e.value.offsetHeight+"px",document.getElementById(t.config.id).style.width=e.value.offsetWidth+"px",console.log("output->",name)}return H(()=>t.config,()=>{i()},{deep:!0,immediate:!0}),k(()=>{i(),console.log("output->",e.value),e.value&&_(e.value,c)}),B(()=>{n&&typeof n.destroy=="function"&&n.destroy()}),(s,l)=>(p(),d("div",{ref_key:"domRef",ref:e},[w("div",{id:s.config.id},null,8,F)],512))}}),N={class:"Xgplayer"},E=f({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(o){const a=o,t=C(()=>{const{type:n,isLive:e,url:i,poster:c,volume:s,autoplay:l,muted:r,loop:g,controls:m,playsinline:y,cssFullscreen:h}=a.chartConfig.option;return{id:"xgplayer",type:n,isLive:e,url:i,poster:c,volume:s,autoplay:l,muted:r,loop:g,controls:m,playsinline:y,cssFullscreen:h}});return(n,e)=>{const i=M;return p(),d("div",N,[V(i,{config:z(t),style:{"background-color":"rgba(0,0,0,0.87)",width:"100%",height:"100%"}},null,8,["config"])])}}});export{E as default};
