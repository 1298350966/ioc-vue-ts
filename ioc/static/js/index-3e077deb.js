import{_ as J}from"./index-806da9dd.js";import{J as N,c as T}from"./index-4e626338.js";/* empty css                  *//* empty css                *//* empty css                     *//* empty css                    *//* empty css              */import{I as W}from"./index-6f99bf85.js";import{u as h}from"./useAmapHooks-baae6444.js";import{o as L,E as $}from"./vuema-115cb50e.js";import{d as x,p as I,a7 as z,g as E,o as w,s as k,w as l,a as e,u as i,r as O,A as F,B as K,c as M,h as P,a0 as S,F as R,q as G,x as H,b as Q,a6 as X}from"./vue-65382a1b.js";/* empty css                */import{_ as Y}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";import{_ as Z}from"./index-dde95f94.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                        *//* empty css                     *//* empty css                        *//* empty css                  */import{_ as ee}from"./SettingItem-0e9c370f.js";import{x as oe,N as te,ae as ne,ap as le,a3 as ae,a2 as ie,k as A,p as me,an as ue,Q as se,P as ce,i as re,ao as de,al as pe}from"./elementPlus-07602b2b.js";import{_ as fe}from"./xgplayerVue-c27b6911.js";/* empty css                   */import"./vueRepl-a238c739.js";import"./lodash-f91682a1.js";import"./editorWorker-7e4b3ef6.js";/* empty css                        */import"./views-99f1c264.js";import"./axios-ba46900f.js";import"./axios-e76ab20a.js";import"./index-7dcd76df.js";/* empty css                 *//* empty css                                                                    */const ge=x({__name:"previewMap",props:{optionData:{type:Object,required:!0},config:{type:Object,required:!0}},setup(n){const a=n,c=h();I("map",c);let{amapKey:g,amapStyleKey:_,amapLon:d,amapLat:s,amapZindex:p,lang:f,amapStyleKeyCustom:b,features:u,viewMode:o,pitch:v,skyColor:m}=z(a.optionData.mapOptions);const r=E(()=>[d.value,s.value]),y=E(()=>`amap://styles/${b.value!==""?b.value:_.value}`);L({key:g.value,securityJsCode:"securityJsCode"});function V(C){c.setMap(C),console.log(C,new Map),a.config.position=r,a.config.visible=!0}return(C,U)=>(w(),k(i($),{"resize-enable":!0,center:i(r),zoom:i(p),"map-style":i(y),lang:i(f),features:i(u),"view-mode":i(o),pitch:i(v),"sky-color":i(m),onInit:V},{default:l(()=>[e(i(W),{config:n.config},null,8,["config"])]),_:1},8,["center","zoom","map-style","lang","features","view-mode","pitch","sky-color"]))}}),_e={class:"InfoWindowConfig"},ve={class:"kh-g-2"},Ve=x({__name:"InfoWindowConfig",props:{config:{type:Object,required:!0}},setup(n){const a=n,c=[{value:"component",label:"内部组件"},{value:"iframe",label:"嵌入页面"}],g=[{value:"top-left",label:"top-left"},{value:"top-center",label:"top-center"},{value:"top-right",label:"top-right"},{value:"middle-left",label:"middle-left"},{value:"center",label:"center"},{value:"middle-right",label:"middle-right"},{value:"bottom-left",label:"bottom-left"},{value:"bottom-center",label:"bottom-center"},{value:"bottom-right",label:"bottom-right"}],_=E({get(){return a.config.offset[0]},set(u){a.config.offset[0]=u}}),d=E({get(){return a.config.offset[1]},set(u){a.config.offset[1]=u}}),s=O(N(a.config.content.attrs));function p(){try{a.config.content.attrs=T(s.value)}catch(u){s.value=JSON.stringify(a.config.content.attrs)}}const f=O(!1);function b(u){a.config.content.component.is=u.componentName,a.config.content.attrs=u.props,s.value=N(a.config.content.attrs)}return F(()=>{a.config.visible=!0}),K(()=>{a.config.visible=!1}),(u,o)=>{const v=oe,m=ee,r=te,y=ne,V=le,C=ae,U=ie,B=A,D=Z,q=Y,j=me;return w(),M("div",_e,[e(m,{name:"窗体名称"},{default:l(()=>[e(v,{modelValue:n.config.name,"onUpdate:modelValue":o[0]||(o[0]=t=>n.config.name=t)},null,8,["modelValue"])]),_:1}),e(m,{name:"是否显示"},{default:l(()=>[e(r,{modelValue:n.config.visible,"onUpdate:modelValue":o[1]||(o[1]=t=>n.config.visible=t)},null,8,["modelValue"])]),_:1}),e(m,{name:"是否自定义窗体"},{default:l(()=>[e(r,{modelValue:n.config.isCustom,"onUpdate:modelValue":o[2]||(o[2]=t=>n.config.isCustom=t)},null,8,["modelValue"])]),_:1}),e(m,{name:"是否自动调整窗体到视野内"},{default:l(()=>[e(r,{modelValue:n.config.autoMove,"onUpdate:modelValue":o[3]||(o[3]=t=>n.config.autoMove=t)},null,8,["modelValue"])]),_:1}),e(m,{name:"是否在鼠标点击地图后关闭信息窗体"},{default:l(()=>[e(r,{modelValue:n.config.closeWhenClickMap,"onUpdate:modelValue":o[4]||(o[4]=t=>n.config.closeWhenClickMap=t)},null,8,["modelValue"])]),_:1}),e(m,{name:"偏移量"},{default:l(()=>[P("div",ve,[e(y,{modelValue:i(_),"onUpdate:modelValue":o[5]||(o[5]=t=>S(_)?_.value=t:null)},null,8,["modelValue"]),e(y,{modelValue:i(d),"onUpdate:modelValue":o[6]||(o[6]=t=>S(d)?d.value=t:null)},null,8,["modelValue"])])]),_:1}),e(m,{name:"窗体锚点"},{default:l(()=>[e(V,{modelValue:n.config.anchor,"onUpdate:modelValue":o[7]||(o[7]=t=>n.config.anchor=t),options:g},null,8,["modelValue"])]),_:1}),e(m,{name:"类型"},{default:l(()=>[e(U,{modelValue:n.config.content.type,"onUpdate:modelValue":o[8]||(o[8]=t=>n.config.content.type=t)},{default:l(()=>[(w(),M(R,null,G(c,t=>e(C,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),n.config.content.type==="component"?(w(),k(m,{key:0,name:"组件名称"},{default:l(()=>[e(v,{modelValue:n.config.content.component.is,"onUpdate:modelValue":o[10]||(o[10]=t=>n.config.content.component.is=t)},{append:l(()=>[e(B,{icon:"Tools",onClick:o[9]||(o[9]=t=>f.value=!0)})]),_:1},8,["modelValue"]),e(D,{show:i(f),"onUpdate:show":o[11]||(o[11]=t=>S(f)?f.value=t:null),onSelect:b},null,8,["show"])]),_:1})):n.config.content.type==="iframe"?(w(),k(m,{key:1,name:"链接地址"},{default:l(()=>[e(v,{modelValue:n.config.content.iframe.src,"onUpdate:modelValue":o[12]||(o[12]=t=>n.config.content.iframe.src=t)},null,8,["modelValue"])]),_:1})):H("",!0),e(m,{name:"组件传参"},{default:l(()=>[e(j,{"body-style":"padding:0"},{default:l(()=>[e(q,{height:"300px",modelValue:i(s),"onUpdate:modelValue":o[13]||(o[13]=t=>S(s)?s.value=t:null),language:"json",editorOptions:{lineNumbers:"off",lineDecorationsWidth:-20,minimap:{enabled:!1}},onBlur:p},null,8,["modelValue"])]),_:1})]),_:1})])}}}),be=x({__name:"index",props:{modelValue:{type:Boolean,required:!0},config:{type:Object,required:!0},optionData:{type:Object,required:!0}},emits:["update:modelValue","save"],setup(n,{emit:a}){const c=n;I("coverGroupConfig",c.config);const g=E({get(){return c.modelValue},set(s){a("update:modelValue",s)}});function _(){a("save",c.config)}const d=Q({activeName:"1"});return(s,p)=>{const f=ue,b=se,u=ce,o=re,v=de,m=pe,r=A,y=J;return w(),k(y,{title:"信息窗体配置",modelValue:i(g),"onUpdate:modelValue":p[1]||(p[1]=V=>S(g)?g.value=V:null),width:"75%",top:"10vh"},{footer:l(()=>[e(r,{type:"primary",onClick:_},{default:l(()=>[X("保存")]),_:1})]),default:l(()=>[e(m,{class:"container"},{default:l(()=>[e(f,{style:{padding:"0"}},{default:l(()=>[e(ge,{optionData:n.optionData,config:c.config},null,8,["optionData","config"])]),_:1}),e(v,{width:"350px",class:"aside"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,{modelValue:i(d).activeName,"onUpdate:modelValue":p[0]||(p[0]=V=>i(d).activeName=V),class:"demo-tabs"},{default:l(()=>[e(b,{label:"配置",name:"1"},{default:l(()=>[e(Ve,{config:n.config},null,8,["config"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const to=fe(be,[["__scopeId","data-v-316a1180"]]);export{to as default};
