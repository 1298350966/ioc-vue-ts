import"./index-4e626338.js";/* empty css                  *//* empty css                *//* empty css                        *//* empty css                    *//* empty css               *//* empty css                 */import{d as E,g as V,al as m,o as i,s as g,w as n,a as l,c as u,l as C,h as M,k as f,u as v}from"./vue-65382a1b.js";import{Y as j}from"./index-55ccac47.js";import{l as O}from"./lodash-f91682a1.js";import{x as z,$ as B,w as I,k as T}from"./elementPlus-07602b2b.js";import{_ as U}from"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";import"./echarts-676dbcd6.js";const P={key:0},$={key:0},w={key:1,calss:"kh-flex-center"},N=E({__name:"ElTable",props:{targetData:{type:Object,required:!0}},setup(b){const t=b,D=V(()=>{const{columns:p}=t.targetData.option;let o=p.map(e=>e.attrs);return Object.keys(t.targetData.tableDateMapping).map(e=>{let s={id:e};return console.log("output->props.targetData.tableDateMapping[key]",t.targetData.tableDateMapping[e]),Object.keys(t.targetData.tableDateMapping[e]).forEach(r=>{Object.defineProperty(s,r,{get(){return t.targetData.tableDateMapping[e][r]},set(c){t.targetData.tableDateMapping[e][r]=c}})}),e=="datas"&&(s.children=o),s})});function h(){let p=t.targetData.option.columns.length,o=O.cloneDeep(j);o.attrs.label="字段"+p,o.attrs.prop="field"+p,t.targetData.option.columns.push(o)}function k(p){if(t.targetData.option.columns.length<=1)return;let o=t.targetData.option.columns.indexOf(p);t.targetData.option.columns.splice(o,1)}return(p,o)=>{const e=z,s=B,r=m("Plus"),c=I,_=T,x=m("Minus"),y=m("el-table",!0);return i(),g(y,{size:"small",border:"",striped:"","row-key":"id",data:v(D),"default-expand-all":"",targetData:""},{default:n(()=>[l(s,{prop:"label",label:"名称",align:"center"},{default:n(({row:a})=>[a.id?(i(),u("span",P,C(a.label),1)):(i(),g(e,{key:1,size:"small",modelValue:a.label,"onUpdate:modelValue":d=>a.label=d},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),l(s,{prop:"prop",label:"字段",align:"center"},{default:n(({row:a})=>[M("div",null,[l(e,{size:"small",modelValue:a.prop,"onUpdate:modelValue":d=>a.prop=d},null,8,["modelValue","onUpdate:modelValue"])])]),_:1}),l(s,{label:"操作",width:"60",align:"center"},{default:n(({row:a,$index:d})=>[a.id?(i(),u("span",$,"无")):(i(),u("div",w,[l(_,{type:"primary",link:""},{default:n(()=>[l(c,{onClick:f(h,["stop"]),size:"14"},{default:n(()=>[l(r)]),_:1},8,["onClick"])]),_:1}),l(_,{type:"danger",link:"",style:{"margin-left":"0px"}},{default:n(()=>[l(c,{onClick:f(q=>k(a),["stop"]),size:"14"},{default:n(()=>[l(x)]),_:2},1032,["onClick"])]),_:2},1024)]))]),_:1})]),_:1},8,["data"])}}});const et=U(N,[["__scopeId","data-v-e170f225"]]);export{et as default};
