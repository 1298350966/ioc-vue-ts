import{F as t}from"./fileTypeEnum-eae25d97.js";import{q as n,c as i,o as l,J as d}from"./index-4e626338.js";import{r as u,N as c}from"./vue-65382a1b.js";const y=s=>{const r=u();return{uploadFileListRef:r,beforeUpload:({file:o})=>{r.value=[];const e=o.file.type;return e!==t.JSON&&e!==t.TXT?(window.$message.warning("仅支持上传 【JSON】 格式文件，请重新上传！"),!1):!0},customRequest:o=>{const{file:e}=o;c(()=>{e?n(e).then(a=>{s.value.option.dataset=i(a)}):window.$message.error("导入数据失败，请稍后重试或联系管理员！")})},download:()=>{try{window.$message.success("下载中，请耐心等待..."),l(d(s.value.option.dataset),void 0,"json")}catch(o){window.$message.error("下载失败，数据错误！")}}}};export{y as u};
