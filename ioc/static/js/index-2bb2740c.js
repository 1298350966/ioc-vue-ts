import{g as L}from"./index-4e626338.js";/* empty css                    */import"./el-collapse-item-4ed993c7.js";/* empty css                */import{_ as O}from"./hCode-f0cdea69.js";/* empty css                   *//* empty css                  *//* empty css                  *//* empty css                *//* empty css                 */import{d as B,g as R,b as X,o as _,s as r,w as e,a as o,a6 as u,h as n,u as t,l as V,a0 as z,G as A,H as T,r as N,al as U,c as J,F as K,q as Q,k as $,x as W}from"./vue-65382a1b.js";import{u as Y}from"./chartEditStore-8641b951.js";import{a as Z}from"./index-383f02b3.js";import{_ as oo}from"./index-806da9dd.js";/* empty css                *//* empty css                     *//* empty css                     */import{_ as eo}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";/* empty css               *//* empty css                 */import{l as to}from"./lodash-f91682a1.js";import{x as no,z as lo,d as ao,p as j,y as so,i as io,an as co,al as po,k as M,S as mo,w as _o,X as ro,U as uo,T as fo}from"./elementPlus-07602b2b.js";import{_ as P}from"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./vuema-115cb50e.js";import"./highlight-87778b4e.js";import"./index-55ccac47.js";import"./echarts-676dbcd6.js";import"./plugin-68db7aa1.js";import"./icon-24f36b03.js";import"./Close-095524a6.js";import"./views-99f1c264.js";import"./axios-ba46900f.js";import"./axios-e76ab20a.js";/* empty css                    *//* empty css                 *//* empty css                  *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./style-2d240cf8.js";import"./fileTypeEnum-eae25d97.js";/* empty css                    *//* empty css                   */import"./editorWorker-7e4b3ef6.js";const go=i=>(A("data-v-ca21c2d5"),i=i(),T(),i),vo={class:"g-c-2"},yo=go(()=>n("span",{class:"func-keyword"},"function",-1)),bo={class:"func-annotate"},xo=B({name:"GlobalDialogDialog",__name:"addAndEditGlobalFunction",props:{data:{type:Object},modelValue:{type:Boolean}},emits:["save","update:modelValue"],setup(i,{expose:b,emit:f}){const x=i,m=R({get(){return x.modelValue},set(c){f("update:modelValue",c)}});function p(){m.value=!0}function g(){m.value=!1}let s=X(to.cloneDeep(x.data)||C());function C(){let c=L();return{name:c,functionName:c,functionContext:""}}function h(){t(s)&&(f("save",s),f("update:modelValue",!1))}return b({openDialog:p,closeDialog:g}),(c,l)=>{const v=no,y=lo,k=ao,E=eo,D=j,F=so,w=io,G=co,I=po,S=M,a=oo;return _(),r(a,{modelValue:t(m),"onUpdate:modelValue":l[3]||(l[3]=d=>z(m)?m.value=d:null),title:"公共方法设置"},{footer:e(()=>[o(S,{type:"primary",onClick:h},{default:e(()=>[u("保存")]),_:1})]),default:e(()=>[o(I,{style:{height:"650px"}},{default:e(()=>[o(G,{style:{padding:"0"}},{default:e(()=>[o(w,{"view-style":"padding: 20px;"},{default:e(()=>[o(F,{"label-position":"top"},{default:e(()=>[n("div",vo,[o(y,{label:"名称:"},{default:e(()=>[o(v,{modelValue:t(s).name,"onUpdate:modelValue":l[0]||(l[0]=d=>t(s).name=d)},null,8,["modelValue"])]),_:1}),o(y,{label:"方法名:"},{default:e(()=>[o(v,{modelValue:t(s).functionName,"onUpdate:modelValue":l[1]||(l[1]=d=>t(s).functionName=d)},null,8,["modelValue"])]),_:1})]),o(y,{label:"方法内容:",style:{"margin-bottom":"0"}},{default:e(()=>[o(D,{style:{padding:"0",width:"100%"}},{default:e(()=>[n("div",null,[o(k,{size:"large",type:"info"},{default:e(()=>[yo,u("  "),n("span",bo,V(t(s).functionName),1),u("(data)  { ")]),_:1}),o(E,{modelValue:t(s).functionContext,"onUpdate:modelValue":l[2]||(l[2]=d=>t(s).functionContext=d),height:"390px",language:"javascript"},null,8,["modelValue"]),o(k,{size:"large",type:"info"},{default:e(()=>[u("}")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const ko=P(xo,[["__scopeId","data-v-ca21c2d5"]]),q=i=>(A("data-v-df11e286"),i=i(),T(),i),Eo={class:"kh-flex-between model-item"},Vo={class:"func-annotate"},Co=q(()=>n("br",null,null,-1)),ho={class:"func-keyword"},Do={class:"go-ml-4"},Fo=q(()=>n("p",null,[u("}"),n("span",null,",")],-1)),wo=B({__name:"index",setup(i){const{getGlobalFunction:b,addGlobalFunction:f,removeGlobalFunction:x,clearGlobalFunction:m}=Y(),p=N(!1),g=N(null);function s(){g.value=null,p.value=!0}function C(c){g.value=c,p.value=!0}function h(c){f(c)}return(c,l)=>{const v=M,y=mo,k=U("Edit"),E=_o,D=U("Delete"),F=ro,w=O,G=j,I=uo,S=fo;return _(),r(t(Z),{class:"kh-GlobalFunction",title:"公共方法"},{"top-right":e(()=>[o(v,{link:"",icon:"Plus",onClick:s}),o(v,{link:"",icon:"DeleteFilled",onClick:t(m)},null,8,["onClick"])]),default:e(()=>[t(b).length===0?(_(),r(y,{key:0,class:"empty-box","image-size":100,description:"暂无数据"})):(_(),r(S,{key:1},{default:e(()=>[(_(!0),J(K,null,Q(t(b),(a,d)=>(_(),r(I,{key:a.key,title:a.name,name:a.key},{title:e(()=>[n("div",Eo,[n("span",null,V(a.name),1),n("span",{class:"kh-flex-between model-item-icon",onClick:l[0]||(l[0]=$(()=>{},["stop"]))},[o(E,{size:16,color:"#2196f3",onClick:$(H=>C(a),["stop"])},{default:e(()=>[o(k)]),_:2},1032,["onClick"]),o(F,{title:"确定要删除该模型吗？","icon-color":"red",onConfirm:H=>t(x)(a.functionName)},{reference:e(()=>[o(E,{size:16,color:"#f44336"},{default:e(()=>[o(D)]),_:1})]),_:2},1032,["onConfirm"])])])]),default:e(()=>[o(G,null,{default:e(()=>[n("p",null,[n("span",Vo,"// "+V(a.name),1),Co,n("span",ho,V(a.functionName),1),u(" (data) { ")]),n("p",Do,[o(w,{style:{padding:"0"},code:a.functionContext,language:"typescript"},null,8,["code"])]),Fo]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1})),t(p)?(_(),r(ko,{key:2,data:t(g),modelValue:t(p),"onUpdate:modelValue":l[1]||(l[1]=a=>z(p)?p.value=a:null),onSave:h},null,8,["data","modelValue"])):W("",!0)]),_:1})}}});const xe=P(wo,[["__scopeId","data-v-df11e286"]]);export{xe as default};
