var $=(n,C,l)=>new Promise((p,_)=>{var d=c=>{try{s(l.next(c))}catch(i){_(i)}},u=c=>{try{s(l.throw(c))}catch(i){_(i)}},s=c=>c.done?p(c.value):Promise.resolve(c.value).then(d,u);s((l=l.apply(n,C)).next())});import"./index-4e626338.js";/* empty css                    */import{_ as L}from"./index-806da9dd.js";/* empty css                 */import"./el-collapse-item-4ed993c7.js";/* empty css                *//* empty css                  */import{d as O,b as Q,r as w,A as J,o as v,s as N,w as e,a as t,u as b,a0 as I,c as V,F as x,q as S,h as r,l as g,a6 as E,j as K,G as A,H as U,al as X,y as Y,k as Z,z as ee}from"./vue-65382a1b.js";import{u as te}from"./useTargetData.hook-7e83673b.js";import{_ as oe}from"./hCode-f0cdea69.js";/* empty css                *//* empty css                     *//* empty css                    */import{_ as se}from"./EditorWorker.vue_vue_type_script_setup_true_lang-44860150.js";import{Q as ae,P as ne,an as le,U as B,T as D,i as ce,ao as re,al as _e,k as ie,p as pe,n as de}from"./elementPlus-07602b2b.js";import{_ as M}from"./xgplayerVue-c27b6911.js";import{al as T}from"./index-55ccac47.js";import"./vueRepl-a238c739.js";import"./lodash-f91682a1.js";import"./vuema-115cb50e.js";/* empty css                   */import"./chartEditStore-8641b951.js";import"./plugin-68db7aa1.js";import"./highlight-87778b4e.js";import"./editorWorker-7e4b3ef6.js";import"./echarts-676dbcd6.js";const R=n=>(A("data-v-b887c90a"),n=n(),U(),n),ue={class:"go-pl-3"},me=R(()=>r("span",{class:"func-keyword"},"async function  ",-1)),fe={class:"func-keyNameWord"},ve=R(()=>r("p",{class:"go-pl-3 func-keyNameWord"},"}",-1)),ye=O({__name:"FunEditor",props:{eventsConfig:{},baseEvent:{}},emits:["close"],setup(n,{expose:C,emit:l}){const p=n,_=Q(Object.assign({},p.baseEvent));let d=w("");const u=()=>{let m=Object.keys(p.eventsConfig);d.value=m[0]};let s=w("encodeInfo");const c=w(!1),i=()=>{let m="",f="",k="";return c.value=Object.entries(_).every(([y,a])=>{try{const h=Object.getPrototypeOf(function(){return $(this,null,function*(){})}).constructor;return new h(a),!0}catch(h){return f=h.message,k=h.name,m=y,!1}}),{errorFn:m,message:f,name:k}},j=()=>{if(i().errorFn){window.$message.error("事件函数错误，无法进行保存");return}Object.values(p.baseEvent).join("").trim()===""||Object.assign(p.baseEvent,_),l("close")};return J(()=>{u()}),C({saveEvents:j}),(m,f)=>{const k=se,y=ae,a=ne,h=le,F=B,z=D,W=ce,q=re,G=_e;return v(),N(G,null,{default:e(()=>[t(h,{style:{padding:"0"}},{default:e(()=>[t(a,{modelValue:b(d),"onUpdate:modelValue":f[0]||(f[0]=o=>I(d)?d.value=o:d=o),type:"border-card",class:"demo-tabs"},{default:e(()=>[(v(!0),V(x,null,S(m.eventsConfig,(o,Ve)=>(v(),N(y,{label:`${o.name}-${o.key}`,name:o.key},{default:e(()=>[r("p",ue,[me,r("span",fe,g(o.key+"("+o.paramsName.join(",")+")")+"  {",1)]),t(k,{modelValue:b(_)[o.key],"onUpdate:modelValue":H=>b(_)[o.key]=H,height:"480px",language:"javascript"},null,8,["modelValue","onUpdate:modelValue"]),ve]),_:2},1032,["label","name"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(q,{width:"240px;",style:{"padding-left":"15px"}},{default:e(()=>[t(a,{modelValue:b(s),"onUpdate:modelValue":f[1]||(f[1]=o=>I(s)?s.value=o:s=o),class:"demo-tabs"},{default:e(()=>[t(y,{label:"编译信息",name:"encodeInfo"},{default:e(()=>[t(W,null,{default:e(()=>[t(z,null,{default:e(()=>[(v(!0),V(x,null,S([i()],o=>(v(),V(x,{key:o},[t(F,{title:"错误函数",name:1},{default:e(()=>[E(g(o.errorFn||"暂无"),1)]),_:2},1024),t(F,{title:"错误信息",name:2},{default:e(()=>[E(g(o.name||"暂无"),1)]),_:2},1024),t(F,{title:"堆栈信息",name:3},{default:e(()=>[E(g(o.message||"暂无"),1)]),_:2},1024)],64))),128))]),_:1})]),_:1})]),_:1}),t(y,{label:"说明文档",name:"readText"},{default:e(()=>[K(m.$slots,"readText",{},void 0,!0)]),_:3})]),_:3},8,["modelValue"])]),_:3})]),_:3})}}});const be=M(ye,[["__scopeId","data-v-b887c90a"]]),P=n=>(A("data-v-dff004de"),n=n(),U(),n),ge={class:"func-annotate"},Ee=P(()=>r("br",null,null,-1)),ke={class:"func-keyword"},he={class:"go-ml-4"},we=P(()=>r("p",null,[E("}"),r("span",null,",")],-1)),Ce=O({__name:"events",props:{componentEvents:{}},setup(n){te();const C=w(!0),l=w(!1),p=()=>{l.value=!1},_=w(null),d=()=>{var u;(u=_.value)==null||u.saveEvents()};return(u,s)=>{const c=X("Edit"),i=ie,j=pe,m=B,f=de,k=L,y=D;return v(),N(y,null,{default:e(()=>[t(m,{title:"组件事件"},{default:e(()=>[t(j,{class:"collapse-show-box",shadow:"never"},{default:e(()=>[Y(t(i,{class:"edit",text:"",circle:"",type:"primary",size:"small",onClick:s[0]||(s[0]=Z(a=>l.value=!0,["stop"]))},{default:e(()=>[t(c,{style:{width:"15px",height:"15px"}})]),_:1},512),[[ee,C.value]]),(v(!0),V(x,null,S(b(T),a=>(v(),V("div",{key:a.key},[r("p",null,[r("span",ge,"// "+g(a.name),1),Ee,r("span",ke,"async "+g(a.key),1),E(" ("+g(a.paramsName.join(","))+") { ",1)]),r("p",he,[t(b(oe),{code:(u.componentEvents||{})[a.key]||"",language:"typescript"},null,8,["code"])]),we]))),128))]),_:1})]),_:1}),t(k,{"custom-class":"FunEditorDialog",modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=a=>l.value=a),title:"组件事件编辑器"},{footer:e(()=>[t(f,null,{default:e(()=>[t(i,{onClick:p},{default:e(()=>[E("取消")]),_:1}),t(i,{type:"primary",onClick:d},{default:e(()=>[E("保存")]),_:1})]),_:1})]),default:e(()=>[t(be,{ref_key:"funEditorRef",ref:_,baseEvent:u.componentEvents,eventsConfig:b(T),onClose:p},null,8,["baseEvent","eventsConfig"])]),_:1},8,["modelValue"])]),_:1})}}});const Ze=M(Ce,[["__scopeId","data-v-dff004de"]]);export{Ze as default};
