var w=(c,v,m)=>new Promise((k,g)=>{var i=s=>{try{u(m.next(s))}catch(d){g(d)}},a=s=>{try{u(m.throw(s))}catch(d){g(d)}},u=s=>s.done?k(s.value):Promise.resolve(s.value).then(i,a);u((m=m.apply(c,v)).next())});import{af as b,aB as E,aC as D}from"./index-4e626338.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  */import{_ as M}from"./index-e314158c.js";/* empty css                 *//* empty css                  *//* empty css                        */import{F as y}from"./fileTypeEnum-eae25d97.js";/* empty css                    *//* empty css                *//* empty css                        *//* empty css                     *//* empty css                        */import{u as W,c as I}from"./chartEditStore-8641b951.js";import{i as j}from"./icon-24f36b03.js";import{ae as J,z as K,y as Q,aa as Z,w as ee,ab as oe,a1 as te,k as le,x as ae,N as ne,C as se,au as ie}from"./elementPlus-07602b2b.js";import{d as de,r as S,al as re,o as p,c as V,a as t,w as n,u as l,h as F,l as pe,s as C,x as ce,F as me,q as ue,a5 as _e,G as fe,H as ge}from"./vue-65382a1b.js";import{_ as be}from"./xgplayerVue-c27b6911.js";import"./vueRepl-a238c739.js";import"./lodash-f91682a1.js";import"./vuema-115cb50e.js";import"./index-806da9dd.js";/* empty css                   *//* empty css                    */import"./index-55ccac47.js";import"./echarts-676dbcd6.js";import"./plugin-68db7aa1.js";import"./Close-095524a6.js";const Ce=c=>(fe("data-v-dafb988b"),c=c(),ge(),c),ve={class:"kh-canvas-setting"},ke={key:1,class:"upload-img"},we=Ce(()=>F("div",{class:"el-upload__text"},"将文件拖到此处或单击以上载",-1)),Ee={class:"el-upload__tip"},ye=de({__name:"index",setup(c){const{ScaleIcon:v,FitToScreenIcon:m,FitToHeightIcon:k,FitToWidthIcon:g}=j.carbon,i=W(),a=i.getEditCanvasConfig,u=i.getEditCanvas,s=S();S(!1);const d=S(!1),L=["#232324","#2a2a2b","#313132","#373739","#757575","#e0e0e0","#eeeeee","#fafafa"],T=[{key:b.FIT,title:"自适应",icon:v,desc:"自适应比例展示，页面会有留白"},{key:b.SCROLL_Y,title:"Y轴滚动",icon:g,desc:"X轴铺满，Y轴自适应滚动"},{key:b.SCROLL_X,title:"X轴滚动",icon:k,desc:"Y轴铺满，X轴自适应滚动"},{key:b.FULL,title:"铺满",icon:m,desc:"强行拉伸画面，填充所有视图"}],h=()=>{i.computedScale()},z=r=>w(this,null,function*(){console.log(r),s.value=[];const e=r.type;return r.size>1024*1024*E?(window.$message.warning(`图片超出 ${E}M 限制，请重新上传！`),!1):e!==y.PNG&&e!==y.JPEG&&e!==y.GIF?(window.$message.warning("文件格式不符合，请重新上传！"),!1):!0}),B=r=>w(this,null,function*(){const{file:e}=r;if(e){const f=D(e);i.setEditCanvasConfig(I.BACKGROUND_IMAGE,f),i.setEditCanvasConfig(I.SELECT_COLOR,!1)}else window.$message.error("添加图片失败，请稍后重试！")}),G=r=>{i.setEditCanvasConfig(I.PREVIEW_SCALE_TYPE,r)};return(r,e)=>{const f=J,_=K,U=Q,N=Z,P=re("upload-filled"),R=ee,$=oe,O=te,x=le,Y=ae,H=M,X=ne,q=se,A=ie;return p(),V("div",ve,[t(U,{inline:"",size:"small","label-placement":"left"},{default:n(()=>[t(_,{label:"宽度",style:{width:"45%"}},{default:n(()=>[t(f,{size:"small",modelValue:l(a).width,"onUpdate:modelValue":e[0]||(e[0]=o=>l(a).width=o),disabled:l(u).lockScale,min:50,onChange:h},null,8,["modelValue","disabled"])]),_:1}),t(_,{label:"高度",style:{width:"45%"}},{default:n(()=>[t(f,{size:"small",modelValue:l(a).height,"onUpdate:modelValue":e[1]||(e[1]=o=>l(a).height=o),disabled:l(u).lockScale,min:50,onChange:h},null,8,["modelValue","disabled"])]),_:1})]),_:1}),t($,{"file-list":s.value,"onUpdate:fileList":e[2]||(e[2]=o=>s.value=o),class:"upload-box","show-file-list":!1,"http-request":B,"before-upload":z,drag:""},{tip:n(()=>[F("div",Ee," 背景图需小于 "+pe(l(E))+"M ，格式为 png/jpg/gif的文件 ",1)]),default:n(()=>[l(a).backgroundImage?(p(),C(N,{key:0,fit:"cover",class:"upload-show",src:l(a).backgroundImage},null,8,["src"])):(p(),V("div",ke,[t(R,{class:"el-icon--upload"},{default:n(()=>[t(P)]),_:1}),we]))]),_:1},8,["file-list"]),t(U,{size:"small","label-placement":"left"},{default:n(()=>[t(_,{label:"背景颜色"},{default:n(()=>[t(O,{modelValue:l(a).background,"onUpdate:modelValue":e[3]||(e[3]=o=>l(a).background=o),"show-alpha":"",predefine:L},null,8,["modelValue"])]),_:1}),t(_,{label:"背景图url"},{default:n(()=>[t(Y,{modelValue:l(a).backgroundImage,"onUpdate:modelValue":e[5]||(e[5]=o=>l(a).backgroundImage=o)},{append:n(()=>[t(x,{onClick:e[4]||(e[4]=o=>d.value=!0),icon:"Tools"})]),_:1},8,["modelValue"]),d.value?(p(),C(H,{key:0,show:d.value,"onUpdate:show":e[6]||(e[6]=o=>d.value=o),modelValue:l(a).backgroundImage,"onUpdate:modelValue":e[7]||(e[7]=o=>l(a).backgroundImage=o)},null,8,["show","modelValue"])):ce("",!0)]),_:1}),t(_,{label:"颜色应用"},{default:n(()=>[t(X,{modelValue:l(a).selectColor,"onUpdate:modelValue":e[8]||(e[8]=o=>l(a).selectColor=o)},null,8,["modelValue"])]),_:1}),t(_,{label:"适配方式"},{default:n(()=>[t(A,null,{default:n(()=>[(p(),V(me,null,ue(T,o=>t(q,{content:o.desc},{default:n(()=>[(p(),C(x,{style:{width:"23%"},key:o.key,type:l(a).previewScaleType===o.key?"primary":"",onClick:Ie=>G(o.key)},{default:n(()=>[(p(),C(_e(o.icon),{style:{width:"16px"}}))]),_:2},1032,["type","onClick"]))]),_:2},1032,["content"])),64))]),_:1})]),_:1})]),_:1})])}}});const oo=be(ye,[["__scopeId","data-v-dafb988b"]]);export{oo as default};
