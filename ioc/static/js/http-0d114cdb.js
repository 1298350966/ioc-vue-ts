var E=Object.defineProperty;var T=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&q(e,r,t[r]);if(T)for(var r of T(t))S.call(t,r)&&q(e,r,t[r]);return e};import{c as N}from"./axios-ba46900f.js";import{R as h,z as y,aq as p,y as L}from"./index-4e626338.js";const O="javascript:",a=e=>{if(typeof e=="string")if(e.startsWith(O)){const t=e.split(O)[1];let r;try{r=new Function(`${t}`)()}catch(l){console.log(l),window.$message.error("js内容解析有误！")}return r}else return e;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];e[t]=a(r)}return e},U=(e,t)=>{if(!e||!t)return;const{requestOriginUrl:r,requestParams:l}=t,{requestUrl:f,requestContentType:R,requestDataType:w,requestHttpType:C,requestParamsBodyType:D,requestSQLContent:b,requestParams:c}=e;if(w===h.STATIC||!f)return;let n=m(m({},l.Header),c.Header);n=a(n);let s={},d=m({},c.Params);d=a(d);let u=new FormData;switch(u.set("default","defaultData"),D){case y.NONE:break;case y.JSON:n["Content-Type"]=p.JSON,s=a(c.Body.json),typeof s=="string"&&(s=JSON.parse(s));break;case y.XML:n["Content-Type"]=p.XML,s=a(c.Body.xml);break;case y.X_WWW_FORM_URLENCODED:{n["Content-Type"]=p.FORM_URLENCODED;const o=c.Body["x-www-form-urlencoded"];for(const i in o)u.set(i,a(o[i]));s=u;break}case y.FORM_DATA:{n["Content-Type"]=p.FORM_DATA;const o=c.Body["form-data"];for(const i in o)u.set(i,a(o[i]));s=u;break}}R===L.SQL&&(n["Content-Type"]=p.JSON,s=b);try{const o=new Function("return `"+`${r}${f}`.trim()+"`")();return N({url:o,method:C,data:s,params:d,headers:n})}catch(o){console.log(o),window.$message.error("URL地址格式有误！")}};export{U as c};
